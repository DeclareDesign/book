<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>7&nbsp; Defining the inquiry – Research Design in the Social Sciences</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../declaration-diagnosis-redesign/crafting-data-strategy.html" rel="next">
<link href="../declaration-diagnosis-redesign/specifying-model.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-2ce9fc9ac8b614e7ffef13962cc12eaf.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-MMK8CF9JC0"></script><script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-MMK8CF9JC0', { 'anonymize_ip': true});
</script><style type="text/css" media="print">
    body { visibility: hidden; display: none }
</style>
<script type="text/javascript">
    function createCookie(name, value, days) {
        var expires;
        if (days) {
            var date = new Date();
            date.setTime(date.getTime() + (7 * 24 * 60 * 60 * 1000));
            expires = "; expires=" + date.toGMTString();
        }
        else {
            expires = "";
        }
        document.cookie = name + "=" + value + expires + "; path=/";
    }
    
    function getCookie(c_name) {
        if (document.cookie.length > 0) {
            c_start = document.cookie.indexOf(c_name + "=");
            if (c_start != -1) {
                c_start = c_start + c_name.length + 1;
                c_end = document.cookie.indexOf(";", c_start);
                if (c_end == -1) {
                    c_end = document.cookie.length;
                }
                return unescape(document.cookie.substring(c_start, c_end));
            }
        }
        return "";
    }
    window.onload = () => {
      if (getCookie('popupShown') != 'yes') {
        const myModal = new bootstrap.Modal('#exampleModal');
        myModal.show();
        createCookie('popupShown', 'yes', 1)
      }
    }
</script><script src="../site_libs/kePrint-0.0.1/kePrint.js"></script><link href="../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../declaration-diagnosis-redesign/declaring-designs.html">Declaration, diagnosis, redesign</a></li><li class="breadcrumb-item"><a href="../declaration-diagnosis-redesign/defining-inquiry.html"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Defining the inquiry</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Research Design in the Social Sciences</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../authors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About the authors</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../acknowledgements.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Acknowledgements</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Introduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../introduction/preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Preface</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../introduction/what-is-a-research-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">What is a research design?</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../introduction/research-design-principles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Research design principles</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../introduction/getting-started.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Getting started</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Declaration, diagnosis, redesign</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../declaration-diagnosis-redesign/declaring-designs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Declaring designs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../declaration-diagnosis-redesign/specifying-model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Specifying the model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../declaration-diagnosis-redesign/defining-inquiry.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Defining the inquiry</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../declaration-diagnosis-redesign/crafting-data-strategy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Crafting a data strategy</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../declaration-diagnosis-redesign/choosing-answer-strategy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Choosing an answer strategy</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../declaration-diagnosis-redesign/diagnosing-designs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Diagnosing designs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../declaration-diagnosis-redesign/redesigning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Redesigning</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../declaration-diagnosis-redesign/design-example.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Design example</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../declaration-diagnosis-redesign/declaration-in-code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Designing in code</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../library/" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Research design library</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../library/observational-descriptive.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Observational : descriptive</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../library/observational-causal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Observational : causal</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../library/experimental-descriptive.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Experimental : descriptive</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../library/experimental-causal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Experimental : causal</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../library/complex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Complex designs</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../lifecycle/" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Research design lifecycle</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lifecycle/planning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Planning</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lifecycle/realization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Realization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lifecycle/integration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Integration</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../epilogue.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Epilogue</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendix.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Appendix</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../student-teacher.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Student and teacher resources</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../errata.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Errata</span></a>
  </div>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar"><div class="quarto-margin-header"><div class="margin-header-item">
<p align="center">
<a style="color: black; text-decoration: none; font-size: 17px" target="_new" href="https://press.princeton.edu/books/paperback/9780691199573/research-design-in-the-social-sciences"> <img style="border: 1px solid darkgray; margin-bottom: 5px" width="100px" src="../figures/cover.jpg"><br>Buy book</a>
</p>
</div></div>
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li>
<a href="#elements-of-inquiries" id="toc-elements-of-inquiries" class="nav-link active" data-scroll-target="#elements-of-inquiries"><span class="header-section-number">7.1</span> Elements of inquiries</a>
  <ul class="collapse">
<li><a href="#units" id="toc-units" class="nav-link" data-scroll-target="#units"><span class="header-section-number">7.1.1</span> Units</a></li>
  <li><a href="#outcomes" id="toc-outcomes" class="nav-link" data-scroll-target="#outcomes"><span class="header-section-number">7.1.2</span> Outcomes</a></li>
  <li><a href="#treatment-conditions" id="toc-treatment-conditions" class="nav-link" data-scroll-target="#treatment-conditions"><span class="header-section-number">7.1.3</span> Treatment conditions</a></li>
  <li><a href="#summary-functions" id="toc-summary-functions" class="nav-link" data-scroll-target="#summary-functions"><span class="header-section-number">7.1.4</span> Summary functions</a></li>
  </ul>
</li>
  <li>
<a href="#types-of-inquiries" id="toc-types-of-inquiries" class="nav-link" data-scroll-target="#types-of-inquiries"><span class="header-section-number">7.2</span> Types of inquiries</a>
  <ul class="collapse">
<li><a href="#data-dependent-inquiries" id="toc-data-dependent-inquiries" class="nav-link" data-scroll-target="#data-dependent-inquiries"><span class="header-section-number">7.2.1</span> Data-dependent inquiries</a></li>
  <li><a href="#causal-attribution-inquiries" id="toc-causal-attribution-inquiries" class="nav-link" data-scroll-target="#causal-attribution-inquiries"><span class="header-section-number">7.2.2</span> Causal attribution inquiries</a></li>
  <li><a href="#complex-counterfactual-inquiries" id="toc-complex-counterfactual-inquiries" class="nav-link" data-scroll-target="#complex-counterfactual-inquiries"><span class="header-section-number">7.2.3</span> Complex counterfactual inquiries</a></li>
  <li><a href="#inquiries-with-continuous-causal-variables" id="toc-inquiries-with-continuous-causal-variables" class="nav-link" data-scroll-target="#inquiries-with-continuous-causal-variables"><span class="header-section-number">7.2.4</span> Inquiries with continuous causal variables</a></li>
  </ul>
</li>
  <li><a href="#how-to-define-inquiries" id="toc-how-to-define-inquiries" class="nav-link" data-scroll-target="#how-to-define-inquiries"><span class="header-section-number">7.3</span> How to define inquiries</a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary"><span class="header-section-number">7.4</span> Summary</a></li>
  </ul><div class="quarto-code-links"><h2>Code Links</h2><ul><li><a href="https://doi.org/10.7910/DVN/HYVPO5"><i class="bi bi-database-fill"></i>Replication data and code</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body" style="text-align: center">
        <img width="400px" src="https://book.declaredesign.org/figures/cover.jpg" style="margin-bottom: 15px"><br>
        Available from Princeton University Press
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <!--<button type="button" class="btn btn-primary">Buy book</button>-->
        <a href="https://www.amazon.com/Research-Design-Social-Sciences-Declaration/dp/0691199574/?&amp;_encoding=UTF8&amp;tag=declaredesign-20&amp;linkCode=ur2&amp;linkId=84be1f952d1d7aaaa5be867eade93474&amp;camp=1789&amp;creative=9325" target="_blank" class="btn btn-info" role="button">Amazon</a>
        <a href="https://press.princeton.edu/books/paperback/9780691199573/research-design-in-the-social-sciences" target="_blank" class="btn btn-info" role="button">Princeton University Press</a>
      </div>
    </div>
  </div>
</div>

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../declaration-diagnosis-redesign/declaring-designs.html">Declaration, diagnosis, redesign</a></li><li class="breadcrumb-item"><a href="../declaration-diagnosis-redesign/defining-inquiry.html"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Defining the inquiry</span></a></li></ol></nav><div class="quarto-title">
<h1 class="title"><span id="sec-ch7" class="quarto-section-identifier"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Defining the inquiry</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><p>An inquiry is a question we ask of the world, and in the same way, of our models of the world. If we stipulate a reference model, <span class="math inline">\(m\)</span>, then our inquiry is a summary of <span class="math inline">\(m\)</span>. Suppose in some reference model that <span class="math inline">\(X\)</span> affects <span class="math inline">\(Y\)</span>. One inquiry might be descriptive: what is the average level of <span class="math inline">\(Y\)</span> when <span class="math inline">\(X=1\)</span>, under the model? A second might be causal: what is the average treatment effect of <span class="math inline">\(X\)</span> on <span class="math inline">\(Y\)</span>? A third is about counterfactuals: for what share of units would <span class="math inline">\(Y\)</span> have been different if <span class="math inline">\(X\)</span> were different? If a model involves more variables, many more questions open up, for instance, regarding how the effect of one variable passes through, or is modified by, another.</p>
<p>When designing research, we should have our inquiries front of mind. Amazingly, very many research projects do not specify the target of inference, focusing instead on the specification of estimation procedures. At some stages of research it is not possible to specify the inquiry with great precision. In early stages you may need to do model-building research in order to find out what the right question is. But once you are at the stage of thinking through inferential strategies you need an inquiry in mind in order to select among options. For the same reason readers need to know your inquiry in order to evaluate your choices.</p>
<p>Formally, an inquiry is a summary function <em>I</em> that operates on an instance of a model <span class="math inline">\(m \in M\)</span>. When we summarize the model with the inquiry, we obtain an “answer under the model.” We formalize this idea as <span class="math inline">\(I(m) = a_m\)</span>, with the important special case <span class="math inline">\(a_{m^*}\)</span> representing our estimand. The difference between <em>I</em> and <span class="math inline">\(a_m\)</span> is the difference between a question and its answer: <em>I</em> is the question we ask about the model and <span class="math inline">\(a_m\)</span> is the answer.</p>
<p>In this book when we talk about inquiries, we will usually be referring to single-number summaries of models. Some common inquiries are descriptive, such as the means, conditional means, correlations, partial correlations, quantiles, and truth statements about variables in the model. Others are causal, such as the average difference in one variable when a second variable is set to two different values. We can think of a single-number inquiry as the atom of a research question.</p>
<p>While most inquiries are “atomic” in this way, some inquiries are more complex than a single-number summary. For example, the best linear predictor of <span class="math inline">\(Y\)</span> given <span class="math inline">\(X\)</span> is a two-number summary: it is the pair of numbers (the slope and intercept) that minimizes the total squared distance between the line and each value of <span class="math inline">\(Y\)</span>. No need to stop at two-number summaries though. We could imagine the best quadratic predictor of <span class="math inline">\(Y\)</span> given <span class="math inline">\(X\)</span> (a three-number summary), and so on. We could have an inquiry that is the full conditional expectation function of <span class="math inline">\(Y\)</span> given <span class="math inline">\(X\)</span>, no matter how wiggly, nonlinear, and nuanced the shape of that function. It could in principle be a 1,000-number summary of the model, or something still more complex.</p>
<p>The inquiry could be constituted by a series of interrelated questions about the model. Indeed the goal of the research may be to generate or to test a model of the world.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> For instance, a researcher might articulate a handful of important questions about the model that all have to come out a certain way or the model itself should be rejected. These complex inquires are made up of a series of atomic inquiries. We’re interested in the sub-inquiries only insofar as they help us understand the real inquiry—is this model of the world a good one or not?</p>
<section id="elements-of-inquiries" class="level2" data-number="7.1"><h2 data-number="7.1" class="anchored" data-anchor-id="elements-of-inquiries">
<span class="header-section-number">7.1</span> Elements of inquiries</h2>
<p>Every inquiry operates on the events generated by the model. We can think of the events as the data set that describes the units, treatment conditions, and outcome variables over which inquiries can be defined. This definition is closely connected to the common UTOS (units, treatments, outcomes, and settings) framework <span class="citation" data-cites="cook2002experimental">(<a href="../references.html#ref-cook2002experimental" role="doc-biblioref">Shadish, Cook, and Campbell 2002</a>)</span>. The units are from the set of units within the model that the inquiry refers to, either all or a subset. The treatment conditions represent the set chosen for study. A descriptive inquiry is a summary of a single condition (reality), whereas a causal inquiry is a summary of multiple conditions. The outcomes are the set of nodes in the model that the inquiry concerns. Finally, the inquiry operates on the model events via a summary function. For example, the “population average” inquiry summarizes the outcome for all units in the population with the mean function. We discuss each element of inquiries in turn.</p>
<section id="units" class="level3" data-number="7.1.1"><h3 data-number="7.1.1" class="anchored" data-anchor-id="units">
<span class="header-section-number">7.1.1</span> Units</h3>
<p>The units of an inquiry are the set of people, places, or things that we are interested in studying. They may refer to all the units in a study or just a subset of them. For example, we can distinguish between many different average causal effect inquiries on the basis of their units: the average treatment effect (ATE) refers to all units in the study, the average treatment effect on the treated (ATT) refers to the units who <em>actually are</em> treated, the average treatment effect on the untreated (ATU) refers to those who <em>actually are not</em> treated, and the complier average causal effect (CACE) refers to those who would take treatment if assigned to be treated but not otherwise.</p>
<p>The reason we need to specify the units of an inquiry is inquiry values (estimands) may differ across units. If the units that are included in the sample live in easier-to-reach areas and people who live in easier-to-reach areas are wealthier than others, the sample average will differ from the population average—and also from the average among those in hard-to-reach places.</p>
<p>The choice of which set of units to focus on depends on theoretical considerations. To whom does the theoretical expectation apply? As a general matter, seeking insights that apply across many individuals is the goal of many social scientists. We are not typically interested in the effect of a treatment or the average outcome in a random sample of 100 units because we care about those units in particular, but because we wish to understand the treatment effect or outcomes in a broader population. Our theories often have so-called scope conditions, which define the types of units for which our theory is operative. A mechanism might operate only for coethnics of a country’s president, small to medium towns, blue collar workers, or the mothers of daughters. The units of an inquiry should be defined by these theoretical expectations, not by which inquiries our data and answer strategies can target easily.</p>
<p>Distinctions among inquiries often arise in debates over instrumental variables designs, which target local average treatment effects (LATEs), meaning the average treatment among a subset. The effect these designs estimate is the average treatment effect among those units that are “compliers.” Compliers are the subset of units that take treatment if assigned and don’t take treatment if not assigned. The effect among compliers may or may not be like the effect among the whole sample or the population from which the sample was drawn. The debate between <span class="citation" data-cites="deaton2009instruments">Deaton (<a href="../references.html#ref-deaton2009instruments" role="doc-biblioref">2010</a>)</span> and <span class="citation" data-cites="imbens2010better">Imbens (<a href="../references.html#ref-imbens2010better" role="doc-biblioref">2010</a>)</span> centers precisely on which inquiry is the appropriate one, the LATE among compliers or the ATE in the whole sample. In many settings, the LATE may be the only inquiry we can reliably estimate, so the question becomes—is the LATE a theoretically relevant inquiry?</p>
<p>If the inquiry is defined with respect to the units sampled by the data strategy, then we do not have to engage in generalization inference—we learn directly about the sample from the sample. But if the inquiry is defined at the population level, then we need to generalize from the sample to the population. We also need to engage in generalization inference when we want to generalize study results to <em>other</em> populations that we did not explicitly sample from. Whether an inquiry requires generalization inference depends on the data strategy in the following way. If the data strategy samples the units that define the inquiry, we do not need to generalize beyond the study. If the data strategy explicitly samples from a well-defined population, we can generalize from sample to population using canonical sampling theory. But if we want to generalize to an inquiry defined over some other set of units (for example, Brazilian citizens ten years in the future), we need to engage in generalization inference <span class="citation" data-cites="egami2021elements">(see <a href="../references.html#ref-egami2021elements" role="doc-biblioref">Egami and Hartman 2022</a>)</span>.</p>
</section><section id="outcomes" class="level3" data-number="7.1.2"><h3 data-number="7.1.2" class="anchored" data-anchor-id="outcomes">
<span class="header-section-number">7.1.2</span> Outcomes</h3>
<p>Every inquiry is also defined by what outcomes are considered for each of the units. The choice of outcome also draws on theory: what outcomes are to be described, or with which outcomes do we want to measure the effects of a treatment? An inquiry might be about a single outcome or multiple outcomes. The average belief that climate change is real would be a single-outcome inquiry, and the difference between that belief and support for government rebates for purchasing electric vehicles a multiple-outcome inquiry.</p>
<p>In some cases, an inquiry will be about a latent outcome that we cannot directly measure, such as preferences, attitudes, or emotions. We can construct data strategies that measure these latent outcomes by asking questions or observing behavior, but we cannot directly measure them. Even though these constructs may be difficult or impossible to measure well, it is often preferable to define the inquiry in terms of the latent outcome of interest rather than in terms of the measured outcome.</p>
</section><section id="treatment-conditions" class="level3" data-number="7.1.3"><h3 data-number="7.1.3" class="anchored" data-anchor-id="treatment-conditions">
<span class="header-section-number">7.1.3</span> Treatment conditions</h3>
<p>The final element of an inquiry is the treatment conditions under consideration and, in the case of more than one, compared.</p>
<p><em>Descriptive</em> inquiries are defined with respect to one single treatment condition. That treatment condition is often the “unmanipulated” condition in which the researcher exposes units to no additional causal agents. Here the goal is not to learn about the summaries of the distributions of outcomes as we observe them. <a href="#tbl-descriptiveinquiries" class="quarto-xref">Table&nbsp;<span>7.1</span></a> (top panel) enumerates some common descriptive inquiries. These inquiries have in common that you do not need any counterfactual quantities in order to define them. The covariance (similarly, the correlation) between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> enters as a descriptive inquiry; so too does the line of best fit for <span class="math inline">\(Y\)</span> given <span class="math inline">\(X\)</span>. For each descriptive inquiry, we list the units, treatment conditions, and outcomes that define them. We also provide <code>R</code> code snippets for each.</p>
<div id="tbl-descriptiveinquiries" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-descriptiveinquiries-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;7.1: Examples of descriptive inquiries and their three elements: units, treatment conditions, and outcomes.
</figcaption><div aria-describedby="tbl-descriptiveinquiries-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 27%">
<col style="width: 22%">
<col style="width: 14%">
<col style="width: 3%">
<col style="width: 31%">
</colgroup>
<thead><tr class="header">
<th>Inquiry</th>
<th>Units</th>
<th>Treatment conditions</th>
<th>Outcomes</th>
<th>Code</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Average value of variable Y in a finite population</td>
<td>Units in the population</td>
<td>Unmanipulated</td>
<td>Y</td>
<td><code>mean(Y)</code></td>
</tr>
<tr class="even">
<td>Average value of variable Y in a sample</td>
<td>Sampled units</td>
<td>Unmanipulated</td>
<td>Y</td>
<td><code>mean(Y[S == 1])</code></td>
</tr>
<tr class="odd">
<td>Conditional average value of Y given X = 1</td>
<td>Units for whom X = 1</td>
<td>Unmanipulated</td>
<td>Y</td>
<td><code>mean(Y[X == 1])</code></td>
</tr>
<tr class="even">
<td>The variance of Y</td>
<td>Units in the population</td>
<td>Unmanipulated</td>
<td>Y</td>
<td><code>pop.var(Y)</code></td>
</tr>
<tr class="odd">
<td>The covariance of X and Y</td>
<td>Units in the population</td>
<td>Unmanipulated</td>
<td>X, Y</td>
<td><code>pop.cov(X, Y)</code></td>
</tr>
<tr class="even">
<td>The best linear predictor of Y given X</td>
<td>Units in the population</td>
<td>Unmanipulated</td>
<td>Y</td>
<td><code>cov(Y, X) / var(X)</code></td>
</tr>
<tr class="odd">
<td>Conditional expectation function of Y given X</td>
<td>Units in the population</td>
<td>Unmanipulated</td>
<td>Y</td>
<td><code>cef(Y, X)</code></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Causal inquiries involve a comparison of at least two possible treatment conditions. For example, an inquiry might be the causal effect of <span class="math inline">\(X\)</span> on <span class="math inline">\(Y\)</span> for a single unit. In order to infer that causal effect, we would need to know the value of <span class="math inline">\(Y\)</span> in two worlds: one world in which <span class="math inline">\(X\)</span> is set to 1 and one in which <span class="math inline">\(X\)</span> is set to 0. <a href="#tbl-causalinquiries" class="quarto-xref">Table&nbsp;<span>7.2</span></a> (middle panel) enumerates some common causal inquiries. These inquiries vary in the units they refer to. For instance, some are questions about samples (SATEs) and others about populations (PATEs). Inquiries can also be defined for units of a particular covariate class (CATEs). Finally, they may be summaries of more than one potential outcome. For instance, the interaction effect is defined here at the individual level as the effect of one treatment on the effect of another treatment.</p>
<div id="tbl-causalinquiries" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-causalinquiries-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;7.2: Examples of causal inquiries and their three elements: units, treatment conditions, and outcomes.
</figcaption><div aria-describedby="tbl-causalinquiries-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 27%">
<col style="width: 22%">
<col style="width: 14%">
<col style="width: 3%">
<col style="width: 31%">
</colgroup>
<thead><tr class="header">
<th>Inquiry</th>
<th>Units</th>
<th>Treatment conditions</th>
<th>Outcomes</th>
<th>Code</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Average treatment effect in a finite population (PATE)</td>
<td>Units in the population</td>
<td>D = 0, D = 1</td>
<td>Y</td>
<td><code>mean(Y_D_1 - Y_D_0)</code></td>
</tr>
<tr class="even">
<td>Conditional average treatment effect (CATE) for X = 1</td>
<td>Units for whom X = 1</td>
<td>D = 0, D = 1</td>
<td>Y</td>
<td><code>mean(Y_D_1[X == 1] - Y_D_0[X == 1])</code></td>
</tr>
<tr class="odd">
<td>Complier average causal effect (CACE)</td>
<td>Complier units</td>
<td>D = 0, D = 1</td>
<td>Y</td>
<td><code>mean(Y_D_1[D_Z_1 &gt; D_Z_0] - Y_D_0[D_Z_1 &gt; D_Z_0])</code></td>
</tr>
<tr class="even">
<td>Causal interactions of <span class="math inline">\(D_1\)</span> and <span class="math inline">\(D_2\)</span>
</td>
<td>Units in the population</td>
<td>D1 = 1, D1 = 0, D2 = 1, D2 = 0</td>
<td>Y</td>
<td><code>mean((Y_D1_1_D2_1 - Y_D1_0_D2_1) - (Y_D1_1_D2_0 - Y_D1_0_D2_0))</code></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Generations of students have been told to excise words that connote causality from their empirical writing. “Affects” becomes “is associated with” and “impacts” becomes “moves with.” Being careful about causal language is of course very important (it’s really true that correlation does not imply causation!). But this change in language is not usually accompanied by a change in inquiry. Many times we are faced with drawing causal inferences from less than ideal data, but the deficiencies of the data strategy should not lead us too far away from our inferential targets. If the inquiry is a causal inquiry, then although the move from “causes” to “is correlated with” might involve more defensible claims about the data, we still need a strategy to get to an answer to the inquiry.</p>
</section><section id="summary-functions" class="level3" data-number="7.1.4"><h3 data-number="7.1.4" class="anchored" data-anchor-id="summary-functions">
<span class="header-section-number">7.1.4</span> Summary functions</h3>
<p>With the units, treatments, and outcomes specified, the last element of the inquiry is the summary function that is applied to them. For a great many inquiries, this function is the <code>mean</code> function: the ATE, the CATE, the LATE, the SATE, the population mean—these are all averages. These and other inquiries are “decomposable” in the sense that you can think of an average effect for a large group as being the weighted average of a set of average effects of smaller groups.</p>
<p>However, not all inquiries are of this form. For example, the line of best fit is defined as the covariance of <em>X</em> and <em>Y</em> divided by the variance of <em>X</em>. This inquiry is a complex summary of all the units in the model.</p>
<p>The inquiry that the regression discontinuity design shoots at is also non-decomposable. In the RDD model (see <a href="../library/observational-causal.html#sec-ch16s5" class="quarto-xref"><span>Section 16.5</span></a>), we imagine units with <span class="math inline">\(Y_i(1)\)</span>, <span class="math inline">\(Y_i(0)\)</span>. Each <span class="math inline">\(i\)</span> also has a value on a “running variable”, <span class="math inline">\(X_i\)</span>, and units receive treatment if and only if <span class="math inline">\(X_i&gt;0\)</span>. In this case the “effect at the point of discontinuity” might be written:</p>
<p><span class="math display">\[E_{i|X_i = 0}(Y_i(Z_i=1) - Y_i(Z_i=0))\]</span></p>
<p>Curiously, however, there may be no units for whom <span class="math inline">\(X_i\)</span> equals exactly 0 (a candidate who wins exactly 50% of the vote happens, but it is rare), so we cannot easily think of the inquiry as being a summary of individual potential outcomes. Instead, we construct a conditional expectation function for both potential outcome functions with respect to <span class="math inline">\(X_i\)</span> and evaluate the difference between these when <span class="math inline">\(X_i = 0\)</span>. Though not an average of individual effects, this difference is nevertheless a summary of the potential outcomes.</p>
</section></section><section id="types-of-inquiries" class="level2" data-number="7.2"><h2 data-number="7.2" class="anchored" data-anchor-id="types-of-inquiries">
<span class="header-section-number">7.2</span> Types of inquiries</h2>
<p>The largest division in the typology of inquiries is between descriptive and causal inquiries. It is for this reason that Part III, the design library, is organized into descriptive and causal chapters, separated by whether the data strategy is observational or experimental. In this section, we describe other important ways inquiries vary and how to think about declaring them.</p>
<section id="data-dependent-inquiries" class="level3" data-number="7.2.1"><h3 data-number="7.2.1" class="anchored" data-anchor-id="data-dependent-inquiries">
<span class="header-section-number">7.2.1</span> Data-dependent inquiries</h3>
<p>Most of the inquiries we have introduced thus far depend on variables in the model, but not on features of the data and answer strategies. However, common inquiries do depend on realizations of the research design.</p>
<p>The first type depends on realizations of the data <span class="math inline">\(d\)</span>: inquiries about units within a sample depend on which units enter the sample; inquiries about treated units depend on which are treated. For example, the average treatment effect on the treated (ATT) is a data-dependent inquiry in the sense that it is the average effect of treatment among the particular set of units that happened to be randomly assigned to treatment. The value of that <em>particular</em> ATT doesn’t change depending on the data strategy, of course, but <em>which</em> ATT we end up estimating depends on the realization of the data strategy. <a href="#tbl-datadependentinquiry" class="quarto-xref">Table&nbsp;<span>7.3</span></a> describes three data-dependent inquiries.</p>
<div id="tbl-datadependentinquiry" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-datadependentinquiry-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;7.3: Examples of data-dependent inquiries and their three elements: units, treatment conditions, and outcomes.
</figcaption><div aria-describedby="tbl-datadependentinquiry-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 36%">
<col style="width: 11%">
<col style="width: 17%">
<col style="width: 6%">
<col style="width: 28%">
</colgroup>
<thead><tr class="header">
<th>Inquiry</th>
<th>Units</th>
<th>Treatment conditions</th>
<th>Outcomes</th>
<th>Code</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Average treatment effect in a sample (SATE)</td>
<td>Sampled units</td>
<td>D = 0, D = 1</td>
<td>Y</td>
<td><code>mean(Y_D_1[S == 1] - Y_D_0[S == 1])</code></td>
</tr>
<tr class="even">
<td>Average treatment effect on the treated (ATT)</td>
<td>Treated units</td>
<td>D = 0, D = 1</td>
<td>Y</td>
<td><code>mean(Y_D_1[D == 1] - Y_D_0[D == 1])</code></td>
</tr>
<tr class="odd">
<td>Average treatment effect on the untreated (ATU)</td>
<td>Untreated units</td>
<td>D = 0, D = 1</td>
<td>Y</td>
<td><code>mean(Y_D_1[D == 0] - Y_D_0[D == 0])</code></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section><section id="causal-attribution-inquiries" class="level3" data-number="7.2.2"><h3 data-number="7.2.2" class="anchored" data-anchor-id="causal-attribution-inquiries">
<span class="header-section-number">7.2.2</span> Causal attribution inquiries</h3>
<p>A causal attribution inquiry is a different kind of data-dependent inquiry. A causal effect inquiry focuses on the change in an outcome that would be induced by a change in the causal variable, irrespective of the values that the outcome takes in the realized data. By contrast, causal attribution inquiries focus on inquiries that condition on realized outcomes, such as the “the absence of the outcome in the hypothetical absence of the treatment (<span class="math inline">\(Y_i(0) = 0\)</span>) given the actual presence of both (<span class="math inline">\(D_i = Y_i = 1\)</span>)” <span class="citation" data-cites="yamamoto2012understanding">(<a href="../references.html#ref-yamamoto2012understanding" role="doc-biblioref">Yamamoto 2012, 240–41</a>)</span>. In other words, had this feature been different would the outcome have been different? <span class="citation" data-cites="goertz2012tale">Goertz and Mahoney (<a href="../references.html#ref-goertz2012tale" role="doc-biblioref">2012</a>)</span> and others refer to causal attribution inquiries as cause-of-effects questions because they start with an outcome (an “effect”) and seek to validate a hypothesis about its cause.</p>
<p>The dependence of these inquiries on actual outcomes makes them harder (though not impossible!) to answer with the tools of quantitative science, though they are often of central interest to scientific and policy agendas and have occupied a large number of qualitative studies. Questions like “Was economic crisis necessary for democratization in the Southern Cone of Latin America?” or “Were high levels of foreign investment in combination with soft authoritarianism and export-oriented policies sufficient for the economic miracles in South Korea and Taiwan?” are examples of such inquiries <span class="citation" data-cites="goertz2012tale">(<a href="../references.html#ref-goertz2012tale" role="doc-biblioref">Goertz and Mahoney 2012</a>)</span>. Though they bear a resemblance to causal effect inquiries that focus on observed subsets (such as the average treatment effect on the treated, or ATT)<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> it is important not to confuse the two kinds of inquiries.</p>
<p>While it is increasingly common to explicitly formalize causal effect inquiries, it is less common to formalize causal attribution inquiries. Doing so, however, can provide the specificity required to diagnose a design. <span class="citation" data-cites="pearl1999probabilities">Pearl (<a href="../references.html#ref-pearl1999probabilities" role="doc-biblioref">1999</a>)</span> provides formal definitions for these inquiries using the language of causal necessity and sufficiency, depicted in <a href="#tbl-causalattributioninquiries" class="quarto-xref">Table&nbsp;<span>7.4</span></a>. To put these inquiries in the context of the democratic peace hypothesis (which states that no two democracies will go to war), for example, in a given country dyad-year, <span class="math inline">\(Y_i = 1\)</span> and <span class="math inline">\(D_i = 1\)</span> could represent “Peace” and “Both democracies” and <span class="math inline">\(Y_i = 0\)</span> and <span class="math inline">\(D_i = 0\)</span> could represent “War” and “Not both democracies.”<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> Then <span class="math inline">\(\Pr(Y_i(D_i = 0) = 0  \mid D_i = Y_i = 1)\)</span> asks, among peaceful, fully democratic dyads, what is the proportion that would have had wars were they not both democracies—that is, in what proportion of dyad-years was democracy a necessary cause of peace? Similarly, <span class="math inline">\(\Pr(Y_i(D_i = 1)=1  \mid D_i = Y_i = 0)\)</span> asks, among dyads that had a war and at least one non-democracy in a given year, what is the proportion that would have experienced peace if both countries were democracies—in other words, in what proportion of cases would democracy have been sufficient to cause peace? <span class="citation" data-cites="yamamoto2012understanding">Yamamoto (<a href="../references.html#ref-yamamoto2012understanding" role="doc-biblioref">2012</a>)</span> extends on this account to focus on causal attribution inquiries for particular subsets, such as compilers.</p>
<div id="tbl-causalattributioninquiries" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-causalattributioninquiries-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;7.4: Examples of causal attribution inquiries and their three elements: units, treatment conditions, and outcomes.
</figcaption><div aria-describedby="tbl-causalattributioninquiries-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 27%">
<col style="width: 22%">
<col style="width: 14%">
<col style="width: 3%">
<col style="width: 31%">
</colgroup>
<thead><tr class="header">
<th>Inquiry</th>
<th>Units</th>
<th>Treatment conditions</th>
<th>Outcomes</th>
<th>Code</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Probability <em>D</em> necessary for <span class="math inline">\(Y\)</span>
</td>
<td>Units for whom D = 1 and Y = 1</td>
<td>D = 0</td>
<td>Y</td>
<td><code>mean(Y_D_0[D == 1 &amp; Y == 1] == 0)</code></td>
</tr>
<tr class="even">
<td>Probability <em>D</em> sufficient for <span class="math inline">\(Y\)</span>
</td>
<td>Units for whom D = 0 and Y = 0</td>
<td>D = 1</td>
<td>Y</td>
<td><code>mean(Y_D_1[D == 0 &amp; Y == 0] == 1)</code></td>
</tr>
<tr class="odd">
<td>Complier probability <em>D</em> necessary for <span class="math inline">\(Y\)</span>
</td>
<td>Units for whom D = 1 and Y = 1 who are compliers</td>
<td>D = 0, Z = 1, Z = 0</td>
<td>Y</td>
<td><code>mean(Y_D_0[D == 1 &amp; Y == 1 &amp; D_Z_1 == 1 &amp; D_Z_0 == 0] == 0)</code></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section><section id="complex-counterfactual-inquiries" class="level3" data-number="7.2.3"><h3 data-number="7.2.3" class="anchored" data-anchor-id="complex-counterfactual-inquiries">
<span class="header-section-number">7.2.3</span> Complex counterfactual inquiries</h3>
<p>The causal inquiries we have considered thus far have involved comparisons of the counterfactual values an outcome could take, depending on the value of one or more treatment variables. These inquiries are mind-bending in that we have to imagine two counterfactual states at the same time. <em>Complex</em> counterfactual inquiries require more mind bending still.</p>
<p>An example of a complex counterfactual inquiry is the “natural direct effect.” Suppose our model contains a treatment <span class="math inline">\(Z_i\)</span>, a mediator <span class="math inline">\(M_i\)</span>, and outcome <span class="math inline">\(Y_i\)</span>. The natural direct effect of the treatment is defined as: <span class="math display">\[\mathrm{NDE} = Y_i(Z=1, M_i=M_i(Z_i=1)) - Y_i(Z_i=0, M_i=M_i(Z_i=1))\]</span></p>
<p>In the second term of this expression, we have to hold in our minds the complex counterfactual: what is the level of <span class="math inline">\(Y_i\)</span>, when <span class="math inline">\(Z_i\)</span> equals 0, but <span class="math inline">\(M\)</span> is at the value it would take if <span class="math inline">\(Z_i\)</span> equaled one?</p>
</section><section id="inquiries-with-continuous-causal-variables" class="level3" data-number="7.2.4"><h3 data-number="7.2.4" class="anchored" data-anchor-id="inquiries-with-continuous-causal-variables">
<span class="header-section-number">7.2.4</span> Inquiries with continuous causal variables</h3>
<p>The forgoing causal inquiries have focused on contrasts between discrete levels of a treatment variable. We can also imagine many different types of inquiries defined in continuous treatment spaces. For example, we could think of the effects of any level of salary from 5 dollars an hour to 500 dollars an hour on workplace satisfaction. We could “discretize” these continuous treatments in bins, in which case we are back to defining inquiries with discrete treatment conditions. Another possibility is to describe the inquiry as the average of the slopes from many lines of best fit. For each subject, we describe the line of best fit of the outcome with respect to the treatment. Our inquiry is then the average of the resulting slopes.</p>
</section></section><section id="how-to-define-inquiries" class="level2" data-number="7.3"><h2 data-number="7.3" class="anchored" data-anchor-id="how-to-define-inquiries">
<span class="header-section-number">7.3</span> How to define inquiries</h2>
<p>There are multiple criteria for choosing an inquiry. We want to pick one that is interesting in its own right or one that would facilitate a real-world decision. We want to pick research questions that we can learn the answer to someday, possibly with a lot of effort. We want to avoid unfeasible research questions. Among feasible research questions, we want to select ones that we are likely to obtain the most informative answers, in terms of moving our priors the most.</p>
<p>Sometimes, advisers tell students to follow a “theory-first” route to picking a research question. Read the literature, find an unsolved puzzle, then start choosing among the methodological approaches that might answer the problem. Others are more skeptical of starting with questions that might not be answerable and encourage students to first master tools that can answer particular types of questions and then find places to apply them. You don’t have to subscribe to either of these positions but you do have to keep an eye simultaneously on the substantive importance of questions and the scope for generating informative answers.</p>
<p>The first criterion for a good inquiry is then the subjective importance of a question. The answer may be important for science (building a theoretical understanding of the world) or for decision-making (choosing which policies to implement). Even so, the scientific enterprise is designed around the idea that importance is in the eye of the beholder and is not some objective quantity. This is for two reasons. First, the scientific or practical importance of a discovery may not be understood until decades later, when other pieces of the causal model are put together or the world faces new problems. Moreover, “importance” differs for different segments of society, and scientists must be able to study questions not judged important by groups in power in order to discover new ways to solve problems faced by the left-out groups.</p>
<p>The second important criterion for a good inquiry is that it should be answerable, or at least <em>partially</em> answerable. The main way an inquiry might not be answerable is we can’t find a feasible data or answer strategy. When for ethical, legal, logistical, or financial constraints, we simply can’t conduct the study, the inquiry is not answerable.</p>
<p>There are subtler ways in which an inquiry might not be answerable. For example, it might be undefined. Inquiries are undefined when <em>I</em> returns <span class="math inline">\(I(m) = a_m = \mathrm{NA}\)</span>. For example, sometimes audit studies consider the effect of treatment on responding to an email and on the tone of the email. However, in conditions where the email is never sent, it has no tone. As a result, we can’t learn about the average effect of treatment on tone, we can only learn about the effect in a subgroup: those units who always respond to email, regardless of condition. This new inquiry is well-defined, but hard to estimate <span class="citation" data-cites="coppock_2019b">(see <a href="../references.html#ref-coppock_2019b" role="doc-biblioref">Coppock 2019</a>)</span>.</p>
<p>An inquiry is also not answerable if it is not, at least partially, identifiable. A question is at least partly answerable if there are at least two different sets of data you might observe that would lead you to make two different inferences. In the best case, one might imagine that you have lots of data and each possible data pattern you see is consistent with only one possible answer. You might then say that your model, or inquiry, is identified. Failing that, you might imagine that different data patterns at least let you rule out some answers even though you can’t be sure of the right answer. In this case we have “partial identification.” Some inquiries might not even be partially identifiable. For instance if we have a model that says an outcome <span class="math inline">\(Y\)</span> is defined by the equation <span class="math inline">\(Y=(a+b)X\)</span>, no amount of data can tell us the exact values of <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span>. Indeed without limits on the values of <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> (such as <span class="math inline">\(a\geq0\)</span>), no amount of data can even narrow down the ranges of <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span>. The basic problem is that for any value of <span class="math inline">\(a\)</span> we can choose a <span class="math inline">\(b\)</span> that keeps the sum of <span class="math inline">\(a+b\)</span> constant. In this setting, even though there is an answer to our inquiry (<span class="math inline">\(a\)</span>) in theory, it is not one we can ever answer in practice. Many other types of inquiries, such as mediation inquiries, are not identifiable. There are some circumstances in which we can provide a partial answer to the inquiry, such as learning a range of values within which the parameter lives. At a minimum, we urge you to pose inquiries that are at least partially answerable with possible data.</p>
<p>One place in which a tradeoff between substantive importance and answerability can come to a head is in selecting the population for which an inquiry is defined.</p>
<p>One common approach is to define inferences with respect to a “finite population.” For instance, all US states. You might then sample from this finite population in the data strategy in such a way that you can use the sample to draw inferences about the population. The probability distribution over the exogenous variables simply enumerates the values that these variables take on in the population. Any randomness in the design is generated by the sampling and, perhaps, by assignment procedures, not in the values of the exogenous variables.</p>
<p>A second, and closely related, approach is to define inferences for a finite <em>sample</em>. This is like population inference when you sample the whole population. In a sense the sample <em>is</em> the population. Finite sample inference is common in research designs that involve random assignment of treatments. The only source of randomness in the finite sample setting is the random assignment itself.</p>
<p>A third approach is to think in terms of “superpopulations”, in which we imagine that any particular population is just a draw from an infinite superpopulation. In this case, we can conceive of the randomness in the design as being fundamental—every unit is a random draw from the superpopulation.</p>
<p>Implicitly if you set up a simulation and draw data using some probability density function, you are drawing from a superpopulation. But you get to specify the type of target of inference when you specify the inquiry, as in <a href="#def-ch7num1" class="quarto-xref">Declaration&nbsp;<span>7.1</span></a>.</p>
<div id="def-ch7num1" class="declaration theorem definition">
<p><span class="theorem-title"><strong>Declaration 7.1</strong></span> Super-population, population, and finite sample design</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">declaration_7.1</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">declare_model</span><span class="op">(</span></span>
<span>    N <span class="op">=</span> <span class="fl">20</span>, </span>
<span>    U <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="va">N</span><span class="op">)</span>,</span>
<span>    Y <span class="op">=</span> <span class="fl">1</span> <span class="op">+</span> <span class="va">U</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">declare_inquiry</span><span class="op">(</span></span>
<span>    superpopulation_mean <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    population_mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Y</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">declare_sampling</span><span class="op">(</span></span>
<span>    S <span class="op">=</span> <span class="fu">complete_rs</span><span class="op">(</span><span class="va">N</span>, n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">declare_inquiry</span><span class="op">(</span>sample_mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Y</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>Here is one draw on the estimands:</p>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">draw_estimands</span><span class="op">(</span><span class="va">declaration_7.1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div id="tbl-estimands" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-estimands-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;7.5: Super-population, population, and finite sample inquiries.
</figcaption><div aria-describedby="tbl-estimands-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table do-not-create-environment cell caption-top table-sm table-striped small" data-quarto-postprocess="true">
<thead><tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">inquiry</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">estimand</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">superpopulation_mean</td>
<td style="text-align: right;">1.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">population_mean</td>
<td style="text-align: right;">1.19</td>
</tr>
<tr class="odd">
<td style="text-align: left;">sample_mean</td>
<td style="text-align: right;">1.50</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>Which of these to choose? Researchers sometimes prefer superpopulation inquiries because they describe general processes on substantive grounds, seeing understanding general processes as the primary goal of social scientific interest. Some are skeptical however about speculating about general, unobservable, processes, preferring to make statements about cases that actually exist in the world. They prefer to select populations of substantive importance. Others seeking to avoid engaging in generalization inference prefer to focus on sample quantities. In some cases the statistics are more suited for finite populations: for instance, randomization inference is based on the randomness induced by assignment and not from sampling populations from superpopulations or samples from populations.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> Critics worry that keeping the focus on the sample means having inquiries that are determined by the realizations of your data strategy rather than having data strategies developed to answer prespecified inquiries.</p>
</section><section id="summary" class="level2" data-number="7.4"><h2 data-number="7.4" class="anchored" data-anchor-id="summary">
<span class="header-section-number">7.4</span> Summary</h2>
<p>Inquiries define our targets of inference, stated in terms of a model of the world. We described how inquiries are defined with respect to specific outcomes expressed by specific units under specific conditions, which are summarized with a chosen function. Inquiries can be descriptive or causal, depending on the mix of conditions they depend on. They can be data-dependent or not and decomposable or not. They should be well-defined and they should be answerable. When we lose track of our inquiries, research studies can end up estimating whatever the answer strategy ends up targeting. Researchers should choose their inquiries with intention so that they can select appropriate empirical strategies for them.</p>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-aronow_green_lee_2014" class="csl-entry" role="listitem">
Aronow, Peter M., Donald P. Green, and Donald K. K. Lee. 2014. <span>“<span>Sharp Bounds On The Variance In Randomized Experiments</span>.”</span> <em>The Annals of Statistics</em> 42 (3): 850–71.
</div>
<div id="ref-coppock_2019b" class="csl-entry" role="listitem">
Coppock, Alexander. 2019. <span>“<span class="nocase">Avoiding Post-Treatment Bias in Audit Experiments</span>.”</span> <em>Journal of Experimental Political Science</em> 6 (1): 1–4.
</div>
<div id="ref-dawid2022bounding" class="csl-entry" role="listitem">
Dawid, Philip, Macartan Humphreys, and Monica Musio. 2022. <span>“Bounding Causes of Effects with Mediators.”</span> <em>Sociological Methods &amp; Research</em>.
</div>
<div id="ref-deaton2009instruments" class="csl-entry" role="listitem">
Deaton, Angus S. 2010. <span>“Instruments, Randomization, and Learning about Development.”</span> <em>Journal of Economic Literature</em> 48 (2): 424–55.
</div>
<div id="ref-egami2021elements" class="csl-entry" role="listitem">
Egami, Naoki, and Erin Hartman. 2022. <span>“Elements of External Validity: Framework, Design, and Analysis.”</span> <em>American Political Science Review</em>.
</div>
<div id="ref-goertz2012tale" class="csl-entry" role="listitem">
Goertz, Gary, and James Mahoney. 2012. <em>A Tale of Two Cultures: Qualitative and Quantitative Research in the Social Sciences</em>. Princeton: Princeton University Press.
</div>
<div id="ref-imbens2010better" class="csl-entry" role="listitem">
Imbens, Guido W. 2010. <span>“Better LATE Than Nothing: Some Comments on Deaton (2009) and Heckman and Urzua (2009).”</span> <em>Journal of Economic Literature</em> 48 (2): 399–423.
</div>
<div id="ref-pearl1999probabilities" class="csl-entry" role="listitem">
Pearl, Judea. 1999. <span>“Probabilities of Causation: Three Counterfactual Interpretations and Their Identification.”</span> <em>Synthese</em> 121 (1-2): 93–149.
</div>
<div id="ref-cook2002experimental" class="csl-entry" role="listitem">
Shadish, William, Thomas D. Cook, and Donald Thomas Campbell. 2002. <em>Experimental and Quasi-Experimental Designs for Generalized Causal Inference</em>. Boston: Houghton Mifflin.
</div>
<div id="ref-yamamoto2012understanding" class="csl-entry" role="listitem">
Yamamoto, Teppei. 2012. <span>“Understanding the Past: Statistical Analysis of Causal Attribution.”</span> <em>American Journal of Political Science</em> 56 (1): 237–56.
</div>
</div>
</section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><hr>
<ol>
<li id="fn1"><p>Here, we are referring to an “inquiry model” not a “reference model,” as discussed in <a href="../introduction/what-is-a-research-design.html#sec-ch2s1ss1" class="quarto-xref"><span>Section 2.1.1</span></a>. We provide an example of this type of inquiry model in <a href="../library/complex.html#sec-ch19s2" class="quarto-xref"><span>Section 19.2</span></a>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Specifically, as <span class="citation" data-cites="yamamoto2012understanding">Yamamoto (<a href="../references.html#ref-yamamoto2012understanding" role="doc-biblioref">2012</a>)</span> points out, the causal attribution inquiry for binary variables can be written <span class="math inline">\(\Pr(Y_i(0) = 0 \mid D_i = Y_i = 1)\)</span>, while the average treatment effect among those successfully treated can be written <span class="math inline">\(E[Y_i(1) - Y_i(0) \mid D_i = Y_i = 1]\)</span>. Given binary outcomes and the additive property of expectations, the ATE among those successfully treated can be written <span class="math inline">\(\Pr(Y_i(1)\mid D_i = Y_i = 1) - \Pr(Y_i(0) \mid D_i = Y_i = 1)\)</span>. The causal attribution inquiry can be written as 1 minus the second term of the ATE among the successfully treated.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Note that we can think of the probability in this statement as implying a population level inquiry—the share with a given feature; or as a representation of a unit level Bayesian <em>answer</em> to the question. See e.g. <span class="citation" data-cites="dawid2022bounding">Dawid, Humphreys, and Musio (<a href="../references.html#ref-dawid2022bounding" role="doc-biblioref">2022</a>)</span>.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>For some purposes the statistics are easier for the superpopulation quantities: for instance, the Neyman variance estimate is exact in this case but conservative in the finite population case (for instance <span class="citation" data-cites="aronow_green_lee_2014">Aronow, Green, and Lee (<a href="../references.html#ref-aronow_green_lee_2014" role="doc-biblioref">2014</a>)</span>).<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="../declaration-diagnosis-redesign/specifying-model.html" class="pagination-link" aria-label="Specifying the model">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Specifying the model</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../declaration-diagnosis-redesign/crafting-data-strategy.html" class="pagination-link" aria-label="Crafting a data strategy">
        <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Crafting a data strategy</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>