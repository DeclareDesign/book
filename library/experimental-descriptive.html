<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>17&nbsp; Experimental : descriptive – Research Design in the Social Sciences</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../library/experimental-causal.html" rel="next">
<link href="../library/observational-causal.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-78faf54a06e50be45dc6d83ab59297a7.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-MMK8CF9JC0"></script><script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-MMK8CF9JC0', { 'anonymize_ip': true});
</script><style type="text/css" media="print">
    body { visibility: hidden; display: none }
</style>
<script type="text/javascript">
    function createCookie(name, value, days) {
        var expires;
        if (days) {
            var date = new Date();
            date.setTime(date.getTime() + (7 * 24 * 60 * 60 * 1000));
            expires = "; expires=" + date.toGMTString();
        }
        else {
            expires = "";
        }
        document.cookie = name + "=" + value + expires + "; path=/";
    }
    
    function getCookie(c_name) {
        if (document.cookie.length > 0) {
            c_start = document.cookie.indexOf(c_name + "=");
            if (c_start != -1) {
                c_start = c_start + c_name.length + 1;
                c_end = document.cookie.indexOf(";", c_start);
                if (c_end == -1) {
                    c_end = document.cookie.length;
                }
                return unescape(document.cookie.substring(c_start, c_end));
            }
        }
        return "";
    }
    window.onload = () => {
      if (getCookie('popupShown') != 'yes') {
        const myModal = new bootstrap.Modal('#exampleModal');
        myModal.show();
        createCookie('popupShown', 'yes', 1)
      }
    }
</script><script src="../site_libs/kePrint-0.0.1/kePrint.js"></script><link href="../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../library/">Research design library</a></li><li class="breadcrumb-item"><a href="../library/experimental-descriptive.html"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Experimental : descriptive</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Research Design in the Social Sciences</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../authors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About the authors</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../acknowledgements.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Acknowledgements</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Introduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../introduction/preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Preface</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../introduction/what-is-a-research-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">What is a research design?</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../introduction/research-design-principles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Research design principles</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../introduction/getting-started.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Getting started</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Declaration, Diagnosis, Redesign</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../declaration-diagnosis-redesign/declaring-designs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Declaring designs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../declaration-diagnosis-redesign/specifying-model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Specifying the model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../declaration-diagnosis-redesign/defining-inquiry.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Defining the inquiry</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../declaration-diagnosis-redesign/crafting-data-strategy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Crafting a data strategy</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../declaration-diagnosis-redesign/choosing-answer-strategy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Choosing an answer strategy</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../declaration-diagnosis-redesign/diagnosing-designs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Diagnosing designs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../declaration-diagnosis-redesign/redesigning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Redesigning</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../declaration-diagnosis-redesign/design-example.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Design example</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../declaration-diagnosis-redesign/declaration-in-code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Designing in code</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../library/" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Research design library</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../library/observational-descriptive.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Observational : descriptive</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../library/observational-causal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Observational : causal</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../library/experimental-descriptive.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Experimental : descriptive</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../library/experimental-causal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Experimental : causal</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../library/complex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Complex designs</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../lifecycle/" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Research design lifecycle</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lifecycle/planning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Planning</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lifecycle/realization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Realization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lifecycle/integration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Integration</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../epilogue.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Epilogue</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendix.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Appendix</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../student-teacher.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Student and teacher resources</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../errata.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Errata</span></a>
  </div>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar"><div class="quarto-margin-header"><div class="margin-header-item">
<p align="center">
<a style="color: black; text-decoration: none; font-size: 17px" target="_new" href="https://press.princeton.edu/books/paperback/9780691199573/research-design-in-the-social-sciences"> <img style="border: 1px solid darkgray; margin-bottom: 5px" width="100px" src="../figures/cover.jpg"><br>Buy book</a>
</p>
</div></div>
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li>
<a href="#audit-experiments" id="toc-audit-experiments" class="nav-link active" data-scroll-target="#audit-experiments"><span class="header-section-number">17.1</span> Audit experiments</a>
  <ul class="collapse">
<li><a href="#intervening-to-decrease-discrimination" id="toc-intervening-to-decrease-discrimination" class="nav-link" data-scroll-target="#intervening-to-decrease-discrimination"><span class="header-section-number">17.1.1</span> Intervening to decrease discrimination</a></li>
  <li><a href="#avoiding-post-treatment-bias" id="toc-avoiding-post-treatment-bias" class="nav-link" data-scroll-target="#avoiding-post-treatment-bias"><span class="header-section-number">17.1.2</span> Avoiding post-treatment bias</a></li>
  <li><a href="#design-examples" id="toc-design-examples" class="nav-link" data-scroll-target="#design-examples"><span class="header-section-number">17.1.3</span> Design examples</a></li>
  </ul>
</li>
  <li>
<a href="#list-experiments" id="toc-list-experiments" class="nav-link" data-scroll-target="#list-experiments"><span class="header-section-number">17.2</span> List experiments</a>
  <ul class="collapse">
<li><a href="#design-examples-1" id="toc-design-examples-1" class="nav-link" data-scroll-target="#design-examples-1"><span class="header-section-number">17.2.1</span> Design examples</a></li>
  </ul>
</li>
  <li>
<a href="#sec-ch17s3" id="toc-sec-ch17s3" class="nav-link" data-scroll-target="#sec-ch17s3"><span class="header-section-number">17.3</span> Conjoint experiments</a>
  <ul class="collapse">
<li><a href="#design-examples-2" id="toc-design-examples-2" class="nav-link" data-scroll-target="#design-examples-2"><span class="header-section-number">17.3.1</span> Design examples</a></li>
  </ul>
</li>
  <li>
<a href="#behavioral-games" id="toc-behavioral-games" class="nav-link" data-scroll-target="#behavioral-games"><span class="header-section-number">17.4</span> Behavioral games</a>
  <ul class="collapse">
<li><a href="#design-examples-3" id="toc-design-examples-3" class="nav-link" data-scroll-target="#design-examples-3"><span class="header-section-number">17.4.1</span> Design examples</a></li>
  </ul>
</li>
  </ul><div class="quarto-code-links"><h2>Code Links</h2><ul><li><a href="https://doi.org/10.7910/DVN/HYVPO5"><i class="bi bi-database-fill"></i>Replication data and code</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body" style="text-align: center">
        <img width="400px" src="https://book.declaredesign.org/figures/cover.jpg" style="margin-bottom: 15px"><br>
        Available from Princeton University Press
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <!--<button type="button" class="btn btn-primary">Buy book</button>-->
        <a href="https://www.amazon.com/Research-Design-Social-Sciences-Declaration/dp/0691199574/?&amp;_encoding=UTF8&amp;tag=declaredesign-20&amp;linkCode=ur2&amp;linkId=84be1f952d1d7aaaa5be867eade93474&amp;camp=1789&amp;creative=9325" target="_blank" class="btn btn-info" role="button">Amazon</a>
        <a href="https://press.princeton.edu/books/paperback/9780691199573/research-design-in-the-social-sciences" target="_blank" class="btn btn-info" role="button">Princeton University Press</a>
      </div>
    </div>
  </div>
</div>

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../library/">Research design library</a></li><li class="breadcrumb-item"><a href="../library/experimental-descriptive.html"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Experimental : descriptive</span></a></li></ol></nav><div class="quarto-title">
<h1 class="title">
<span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Experimental : descriptive</span>
</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><p>We use <em>experiments</em> to target descriptive inquiries when units do not naturally reveal a characteristic that we want to measure. Instead, we must assign units into more than one condition that we can use to figure out what characteristic the units hold. Each experiment we discuss is simply another kind of measurement tool (albeit often a very useful one!). Importantly, the fact that we are using an experiment does not switch our inquiry from descriptive to causal. In each entry in this chapter, we define the inquiry as a summary of unit characteristics in the population, and not as a function of potential outcomes.</p>
<p>We study four kinds of experiments for descriptive inference. Audit experiments estimate the fraction of units that <em>discriminate.</em> List experiments estimate the prevalence rate of holding a sensitive characteristic such as drug use or support for an insurgent group. Conjoint experiments measure (aggregations of) preferences over choices such as candidates for election. Experimental behavioral games measure trust.</p>
<p>We need audit experiments because we typically cannot identify whether someone discriminates naturally by measuring a single interaction with another person. We need to see how that person interacts with multiple others, some that they might discriminate against and some not, and then compare their behaviors. We also cannot ask people if they discriminate in a survey and expect useful answers: people typically do not think of themselves as discriminatory. Trust games are motivated by the same idea: people may think of themselves as more trusting than they are. The list experiment is motivated by a related concern: people may not answer sensitive questions when they think others can learn their answer and might punish them socially or physically for giving a sensitive answer. If we measured these sensitive characteristics by asking, people might misreport their answers, so we use the experiment to ask in a way that provides plausible deniability (but still allows us to estimate the prevalence rate). Conjoint experiments address the problem that it is difficult to learn about multidimensional preferences over choices by asking about a single choice. In each case, the experiment allows us to randomize people into multiple conditions that let us figure out a descriptive characteristic we could not otherwise measure.</p>
<section id="audit-experiments" class="level2" data-number="17.1"><h2 data-number="17.1" class="anchored" data-anchor-id="audit-experiments">
<span class="header-section-number">17.1</span> Audit experiments</h2>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>We declare an audit experiment design in which the name of a citizen requesting service from government is randomized to be Latino-sounding or White-sounding and the government official either responds or does not. We then declare an augmented design in which a treatment to reduce discrimination is cross-randomized. The declaration highlights the behavioral assumptions that must be made to interpret the estimated treatment effect of the name as discrimination, and the diagnosis of the anti-discrimination treatment highlights how large a sample would be required for high power.</p>
</div>
</div>
<p>Audit experiments are used to measure discrimination against one group in favor of another group. The design is used commonly to measure whether job applications that are otherwise similar but come from candidates from different genders, races, or social backgrounds receive the same rate of job interview invitations. The same approach has been applied to a very wide range of settings, including education, housing, and requests to politicians.</p>
<p>The audit experiment design we’ll explore in this chapter has data and answer strategies that are identical to the two-arm trial for causal inference described in <a href="experimental-causal.html#sec-ch18s1" class="quarto-xref"><span>Section 18.1</span></a>. The difference between an audit study and the typical randomized experiment lies in the model and inquiry. In a two-arm trial, a common (causal) inquiry is the average difference between the treated and untreated potential outcomes, the ATE. In an audit experiment, by contrast, the inquiry is descriptive: what is the fraction of the sample that discriminates?</p>
<p>We can hear our colleagues objecting now – the inquiry in an audit study can of course be conceived of as causal! It’s the average effect of signaling membership in one social group on a resume versus signaling membership in another. We agree, of course, that this interpretation is possible and technically correct. But when we think of the inquiry as descriptive, we usefully put our focus on the behaviors of people who do and do not discriminate.</p>
<p>Consider <span class="citation" data-cites="WHITE_NATHAN_FALLER_2015">White, Nathan, and Faller (<a href="../references.html#ref-WHITE_NATHAN_FALLER_2015" role="doc-biblioref">2015</a>)</span>, which seeks to measure discrimination against Latinos by election officials through assessing whether election officials respond to emailed requests for information from putatively Latino or White voters. We imagine three types of election officials: those who would always respond to the request (regardless of the emailer’s ethnicity), those who would never respond to the request (again regardless of the emailer’s ethnicity), and officials who discriminate against Latinos. Here, discriminators are defined by their behavior: they would respond to the White voter but not to the Latino voter. These three types are given in <a href="#tbl-audittypes" class="quarto-xref">Table&nbsp;<span>17.1</span></a>.</p>
<div id="tbl-audittypes" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-audittypes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;17.1: Audit experiment response types
</figcaption><div aria-describedby="tbl-audittypes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 32%">
<col style="width: 33%">
<col style="width: 34%">
</colgroup>
<thead><tr class="header">
<th>Type</th>
<th><span class="math inline">\(Y_i(Z_i = \textrm{White})\)</span></th>
<th><span class="math inline">\(Y_i(Z_i = \textrm{Latino})\)</span></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Always-responder</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>Anti-Latino discriminator</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="odd">
<td>Never-responder</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Our descriptive inquiry is the fraction of the sample that discriminates: <span class="math inline">\(\mathbb{E}[\textrm{Type}_i = \textrm{Anti}~\textrm{Latino}~\textrm{discriminator}]\)</span>. Under the behavioral assumptions about these three types enumerated in <a href="#tbl-audittypes" class="quarto-xref">Table&nbsp;<span>17.1</span></a> (whether these types would respond depending on the ethnicity of the sender), <span class="math inline">\(\mathbb{E}[\textrm{Type}_i = \textrm{Anti}~\textrm{Latino}~\textrm{discriminator}] = \mathbb{E}[Y_i(Z_i = \textrm{White}) - Y_i(Z_i = \textrm{Latino})]\)</span>. Because this is the expected difference between two outcomes, we can use a randomized experiment that randomizes ethnicity to measure this descriptive quantity. In the data strategy, we randomly sample from the <span class="math inline">\(Y_i(Z_i = \textrm{White})\)</span>’s and from the <span class="math inline">\(Y_i(Z_i = \textrm{Latino})\)</span>’s, then in the answer strategy, we take a difference-in-means, generating an estimate of the fraction of the sample that discriminates.</p>
<p>Some finer points about these behavioral assumptions. First, we assume that always-responders and never-responders do not engage in discrimination. It could be that some never-responders don’t respond to Latino voters out of racial animus, but do not respond to White voters out of laziness. In this model, such officials would be not be classified as anti-Latino discriminators by assumption. Second, we assume that there are no anti-White discriminators. If there were, then the difference-in-means would not be unbiased for the fraction of anti-Latino discriminators. Instead, it would be unbiased for “net” discrimination, i.e., how much more election officials discriminate against Latinos versus how much they discriminate against Whites. Anti-Latino discrimination and net discrimination are theoretically separate inquiries. To assess whether the no anti-White discriminators assumption is appropriate in a given setting, substantive knowledge is needed. It is not an assumption that can be directly tested empirically (unless of course <em>most</em> discrimination goes in this direction).</p>
<p><a href="#def-ch17num1" class="quarto-xref">Declaration&nbsp;<span>17.1</span></a> connects the behavioral assumptions we make about subjects to the randomized experiment we use to infer the value of a descriptive quantity. Only never-responders fail to respond to the White request while only always-responders respond to the Latino request. The inquiry is the proportion of the sample that is an anti-Latino discriminator. The data strategy involves randomly assigning the putative ethnicity of the voter making the request and recording whether it was responded to. The answer strategy compares average response rates by randomly assigned group.</p>
<div id="def-ch17num1" class="declaration theorem definition">
<p><span class="theorem-title"><strong>Declaration 17.1</strong></span> Audit experiment design.</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">declaration_17.1</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">declare_model</span><span class="op">(</span></span>
<span>    N <span class="op">=</span> <span class="fl">500</span>,</span>
<span>    type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span></span>
<span>      size <span class="op">=</span> <span class="va">N</span>, </span>
<span>      replace <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Always-responder"</span>,</span>
<span>            <span class="st">"Anti-Latino discriminator"</span>,</span>
<span>            <span class="st">"Never-responder"</span><span class="op">)</span>,</span>
<span>      prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.30</span>, <span class="fl">0.05</span>, <span class="fl">0.65</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="co"># Behavioral assumptions represented here:</span></span>
<span>    Y_Z_white <span class="op">=</span> <span class="fu">if_else</span><span class="op">(</span><span class="va">type</span> <span class="op">==</span> <span class="st">"Never-Responder"</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>    Y_Z_latino <span class="op">=</span> <span class="fu">if_else</span><span class="op">(</span><span class="va">type</span> <span class="op">==</span> <span class="st">"Always-Responder"</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">declare_inquiry</span><span class="op">(</span></span>
<span>    anti_latino_discrimination <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">type</span> <span class="op">==</span> <span class="st">"Anti-Latino discriminator"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">declare_assignment</span><span class="op">(</span>Z <span class="op">=</span> <span class="fu">complete_ra</span><span class="op">(</span><span class="va">N</span>, conditions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"latino"</span>, <span class="st">"white"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">declare_measurement</span><span class="op">(</span>Y <span class="op">=</span> <span class="fu">reveal_outcomes</span><span class="op">(</span><span class="va">Y</span> <span class="op">~</span> <span class="va">Z</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">declare_estimator</span><span class="op">(</span><span class="va">Y</span> <span class="op">~</span> <span class="va">Z</span>, inquiry <span class="op">=</span> <span class="st">"anti_latino_discrimination"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<section id="intervening-to-decrease-discrimination" class="level3" data-number="17.1.1"><h3 data-number="17.1.1" class="anchored" data-anchor-id="intervening-to-decrease-discrimination">
<span class="header-section-number">17.1.1</span> Intervening to decrease discrimination</h3>
<p><span class="citation" data-cites="butler_crabtree_2017">Butler and Crabtree (<a href="../references.html#ref-butler_crabtree_2017" role="doc-biblioref">2017</a>)</span> prompt researchers to “move beyond measurement” in audit studies. Under the model assumptions in the design, audit experiments measure the level of discrimination, but of course they do not do anything to reduce it. To move beyond measurement, we intervene in the world to reduce discrimination in a treatment group but not in a control group, then measure the level of discrimination in both arms using the audit experiment technology.</p>
<p>This two-stage design is illustrated in <a href="#def-ch17num2" class="quarto-xref">Declaration&nbsp;<span>17.2</span></a>. The first half of the design is about causal inference: we want to learn about the effect of the intervention on discrimination. The second half of the design is about descriptive inference – <em>within each treatment arm</em>. We incorporate both stages of the design in the answer strategy, in which the coefficient on the interaction of the intervention indicator with the audit indicator is our estimator of the effect on discrimination.</p>
<div id="def-ch17num2" class="declaration theorem definition">
<p><span class="theorem-title"><strong>Declaration 17.2</strong></span> Audit experiment intervention study design.</p>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">declaration_17.2</span> <span class="op">&lt;-</span></span>
<span>  <span class="co"># This part of the design is about causal inference</span></span>
<span>  <span class="fu">declare_model</span><span class="op">(</span></span>
<span>    N <span class="op">=</span> <span class="fl">5000</span>,</span>
<span>    type_D_0 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span></span>
<span>      size <span class="op">=</span> <span class="va">N</span>,</span>
<span>      replace <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Always-Responder"</span>,</span>
<span>            <span class="st">"Anti-Latino Discriminator"</span>,</span>
<span>            <span class="st">"Never-Responder"</span><span class="op">)</span>,</span>
<span>      prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.30</span>, <span class="fl">0.05</span>, <span class="fl">0.65</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    type_tau_i <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, <span class="fl">1</span>, <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>    type_D_1 <span class="op">=</span> <span class="fu">if_else</span><span class="op">(</span></span>
<span>      <span class="va">type_D_0</span> <span class="op">==</span> <span class="st">"Anti-Latino Discriminator"</span> <span class="op">&amp;</span></span>
<span>        <span class="va">type_tau_i</span> <span class="op">==</span> <span class="fl">1</span>,</span>
<span>      <span class="st">"Always-Responder"</span>,</span>
<span>      <span class="va">type_D_0</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">declare_inquiry</span><span class="op">(</span></span>
<span>    ATE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="op">(</span><span class="va">type_D_1</span> <span class="op">==</span> <span class="st">"Anti-Latino Discriminator"</span><span class="op">)</span> <span class="op">-</span></span>
<span>                 <span class="op">(</span><span class="va">type_D_0</span> <span class="op">==</span> <span class="st">"Anti-Latino Discriminator"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">declare_assignment</span><span class="op">(</span>D <span class="op">=</span> <span class="fu">complete_ra</span><span class="op">(</span><span class="va">N</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">declare_measurement</span><span class="op">(</span>type <span class="op">=</span> <span class="fu">reveal_outcomes</span><span class="op">(</span><span class="va">type</span> <span class="op">~</span> <span class="va">D</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># This part is about descriptive inference in each condition!</span></span>
<span>  <span class="fu">declare_model</span><span class="op">(</span></span>
<span>    Y_Z_white <span class="op">=</span> <span class="fu">if_else</span><span class="op">(</span><span class="va">type</span> <span class="op">==</span> <span class="st">"Never-Responder"</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>    Y_Z_latino <span class="op">=</span> <span class="fu">if_else</span><span class="op">(</span><span class="va">type</span> <span class="op">==</span> <span class="st">"Always-Responder"</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">declare_assignment</span><span class="op">(</span></span>
<span>    Z <span class="op">=</span> <span class="fu">complete_ra</span><span class="op">(</span><span class="va">N</span>, conditions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"latino"</span>, <span class="st">"white"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">declare_measurement</span><span class="op">(</span>Y <span class="op">=</span> <span class="fu">reveal_outcomes</span><span class="op">(</span><span class="va">Y</span> <span class="op">~</span> <span class="va">Z</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">declare_estimator</span><span class="op">(</span><span class="va">Y</span> <span class="op">~</span> <span class="va">Z</span> <span class="op">*</span> <span class="va">D</span>, term <span class="op">=</span> <span class="st">"Zwhite:D"</span>, inquiry <span class="op">=</span> <span class="st">"ATE"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>Even at 5,000 subjects, the power to detect the effect of the intervention is quite poor, at approximately 15%. This low power stems from the small treatment effect (reducing discrimination by 50% from 5.0% to 2.5%) and from the noisy measurement strategy.</p>
<div id="lem-ch17num1" class="theorem lemma">
<p><span class="theorem-title"><strong>Diagnosis 17.1</strong></span> Audit experiment intervention study diagnosis</p>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">diagnosis_17.1</span> <span class="op">&lt;-</span> <span class="fu">diagnose_design</span><span class="op">(</span><span class="va">declaration_17.2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div id="tbl-auditdiagnosis" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-auditdiagnosis-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;17.2: Audit experiment power analysis
</figcaption><div aria-describedby="tbl-auditdiagnosis-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: center;">power</th>
<th style="text-align: center;">se(power)</th>
<th style="text-align: center;">n_sims</th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: center;">0.15</td>
<td style="text-align: center;">0.01</td>
<td style="text-align: center;">2000</td>
</tr></tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</div>
</section><section id="avoiding-post-treatment-bias" class="level3" data-number="17.1.2"><h3 data-number="17.1.2" class="anchored" data-anchor-id="avoiding-post-treatment-bias">
<span class="header-section-number">17.1.2</span> Avoiding post-treatment bias</h3>
<p><span class="citation" data-cites="coppock_2019b">Coppock (<a href="../references.html#ref-coppock_2019b" role="doc-biblioref">2019</a>)</span> discusses how to avoid posttreatment bias when studying how the audit treatment affects the “quality” of responses, such as the tone of an email or the enthusiasm of the hiring callback. Here our inquiry is effect of the sender type on tone rather than a descriptive inquiry about the fraction of receivers who discriminate. Interestingly, this causal effect is not defined among the discriminators, because they never send emails to Latinos, so those emails never have a tone. The tone inquiry is defined only among always-responders, but estimating this effect without bias is tricky.</p>
</section><section id="design-examples" class="level3" data-number="17.1.3"><h3 data-number="17.1.3" class="anchored" data-anchor-id="design-examples">
<span class="header-section-number">17.1.3</span> Design examples</h3>
<ul>
<li><p><span class="citation" data-cites="birkelund2022gender">Birkelund et al. (<a href="../references.html#ref-birkelund2022gender" role="doc-biblioref">2022</a>)</span> conduct harmonized audit experiments in six countries to measure employment discrimination on the basis of gender.</p></li>
<li><p><span class="citation" data-cites="fang2019can">Fang, Guess, and Humphreys (<a href="../references.html#ref-fang2019can" role="doc-biblioref">2019</a>)</span> “move beyond measurement” by randomizing a New York City government intervention designed to stop housing discrimination, which was then measured by an audit study design.</p></li>
</ul></section></section><section id="list-experiments" class="level2" data-number="17.2"><h2 data-number="17.2" class="anchored" data-anchor-id="list-experiments">
<span class="header-section-number">17.2</span> List experiments</h2>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>We declare a list experiment design, highlighting that the inquiry is a descriptive one despite the use of an experiment. We then declare a design comparing the list experiment to direct questioning in estimating the prevalence of a sensitive item, and clarify when one survey technology is preferred to the other as a function of sensitivity bias levels and sample size.</p>
</div>
</div>
<p>Sometimes, subjects might not tell the truth about certain attitudes or behaviors when asked directly. Responses may be affected by sensitivity bias, or the tendency of survey subjects to misreport their answers for fear of negative repercussions if some individual or group learns their true response <span class="citation" data-cites="blair2018list">(<a href="../references.html#ref-blair2018list" role="doc-biblioref">Blair, Coppock, and Moor 2020</a>)</span>. In such cases, standard survey estimates based on direct questions will be biased. One class of solutions to this problem is to obscure individual responses, providing protection from social or legal pressures. When we obscure responses systematically through an experiment, we can often still identify average quantities of interest. One such design is the list experiment (introduced in <span class="citation" data-cites="miller1984new">Miller (<a href="../references.html#ref-miller1984new" role="doc-biblioref">1984</a>)</span>), which asks respondents for the count of the number of “yes” responses to a series of questions including the sensitive item, rather than for a yes or no answer on the sensitive item itself. List experiments give subjects cover by aggregating their answer to the sensitive item with responses to other questions.</p>
<p>For example, <span class="citation" data-cites="creightonjamal2015">Creighton and Jamal (<a href="../references.html#ref-creightonjamal2015" role="doc-biblioref">2015</a>)</span> study preferences for religious discrimination in immigration policy among Americans. They worried that direct measures of Americans’ willingness to grant citizenship to Muslims would be distorted by sensitivity bias, so they turned to a list experiment. Subjects in the control and treatment groups were asked: “Below you will read [three/four] things that sometimes people oppose or are against. After you read all [three/four], just tell us HOW MANY of them you OPPOSE. We don’t want to know which ones, just HOW MANY.”</p>
<div id="tbl-listquestions" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-listquestions-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;17.3: List experiment conditions in <span class="citation" data-cites="creightonjamal2015">Creighton and Jamal (<a href="../references.html#ref-creightonjamal2015" role="doc-biblioref">2015</a>)</span>
</figcaption><div aria-describedby="tbl-listquestions-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 62%">
<col style="width: 37%">
</colgroup>
<thead><tr class="header">
<th>Control</th>
<th>Treatment</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>The federal government increasing assistance to the poor.</td>
<td>The federal government increasing assistance to the poor.</td>
</tr>
<tr class="even">
<td>Professional athletes making millions of dollars per year.</td>
<td>Professional athletes making millions of dollars per year.</td>
</tr>
<tr class="odd">
<td>Large corporations polluting the environment.</td>
<td>Large corporations polluting the environment.</td>
</tr>
<tr class="even">
<td></td>
<td>Granting citizenship to a legal immigrant who is Muslim.</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>The treatment group averaged 2.123 items while the control group averaged 1.904 items, for a difference-in-means estimate of 0.219. Under the usual assumptions of randomized experiments, the difference-in-means is an unbiased estimator for the average treatment effect of <em>being asked</em> to respond to the treated list versus the control list. But our (descriptive) inquiry is the proportion of people who would grant citizenship to a legal immigrant who is Muslim.</p>
<p>For the difference-in-means to be an unbiased estimator for that inquiry, we invoke two additional assumptions <span class="citation" data-cites="Imai2011">(<a href="../references.html#ref-Imai2011" role="doc-biblioref">Imai 2011</a>)</span>:</p>
<ul>
<li><p><strong>No design effects</strong>: The count of “yes” responses to the control items is the same whether a respondent is assigned to the treatment or control group.</p></li>
<li><p><strong>No liars</strong>: Subjects with the sensitive trait truthfully increment their count when assigned to the treatment group.</p></li>
</ul>
<p>Under these two extra assumptions, the list experimental estimate of the prevalence of opposition to granting Muslim immigrants citizenship is 21.9%.</p>
<div id="fig-ch17num1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-ch17num1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="../figures/figure-17-1.svg" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Figure&nbsp;17.1: Directed acyclic graph for the list experiment."><img src="../figures/figure-17-1.svg" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ch17num1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;17.1: Directed acyclic graph for the list experiment.
</figcaption></figure>
</div>
<p><a href="#fig-ch17num1" class="quarto-xref">Figure&nbsp;<span>17.1</span></a> represents the list experimental design. The no liars assumption is represented by the lack of an edge from sensitivity bias <span class="math inline">\(S\)</span> to the list experiment outcome <span class="math inline">\(Y^L\)</span>. The no design effects assumption is not represented on the DAG.</p>
<p><a href="#def-ch17num3" class="quarto-xref">Declaration&nbsp;<span>17.3</span></a> describes a list experimental design. The model includes subjects’ true attitude (<code>Y_star</code>) and whether or not their direct question answers are contaminated by sensitivity bias (<code>S</code>). These two variables combine to determine how subjects will respond when asked directly about support for the policy. The potential outcomes model combines three types of information to determine how subjects will respond to the list experiment: their responses to the three control items (<code>control_count</code>), their true attitude (<code>Y_star</code>), and whether they are assigned to see the treatment or the control list (<code>Z</code>). Our definition of the potential outcomes embeds the no liars and no design effects assumptions.</p>
<p>The inquiry is the prevalence rate of the sensitive item. In the data strategy, we randomly assign 50% of our 500 subjects to treatment and the remainder to control. In the survey, we ask subjects the list experiment question (<code>Y_list</code>). Our answer strategy estimates the prevalence rate by calculating the difference-in-means in the list outcome between treatment and control.</p>
<div id="def-ch17num3" class="declaration theorem definition">
<p><span class="theorem-title"><strong>Declaration 17.3</strong></span> List experiment design.</p>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">declaration_17.3</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">declare_model</span><span class="op">(</span></span>
<span>    N <span class="op">=</span> <span class="fl">500</span>,</span>
<span>    control_count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="fl">3</span>, prob <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>    Y_star <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="fl">1</span>, prob <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span>,</span>
<span>    <span class="fu">potential_outcomes</span><span class="op">(</span><span class="va">Y_list</span> <span class="op">~</span> <span class="va">Y_star</span> <span class="op">*</span> <span class="va">Z</span> <span class="op">+</span> <span class="va">control_count</span><span class="op">)</span> </span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">declare_inquiry</span><span class="op">(</span>prevalence_rate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Y_star</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">declare_assignment</span><span class="op">(</span>Z <span class="op">=</span> <span class="fu">complete_ra</span><span class="op">(</span><span class="va">N</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">declare_measurement</span><span class="op">(</span>Y_list <span class="op">=</span> <span class="fu">reveal_outcomes</span><span class="op">(</span><span class="va">Y_list</span> <span class="op">~</span> <span class="va">Z</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">declare_estimator</span><span class="op">(</span><span class="va">Y_list</span> <span class="op">~</span> <span class="va">Z</span>, .method <span class="op">=</span> <span class="va">difference_in_means</span>, </span>
<span>                    inquiry <span class="op">=</span> <span class="st">"prevalence_rate"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="lem-ch17num2" class="theorem lemma">
<p><span class="theorem-title"><strong>Diagnosis 17.2</strong></span> List experiment diagnosis</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">diagnosands</span> <span class="op">&lt;-</span> <span class="fu">declare_diagnosands</span><span class="op">(</span></span>
<span>  bias <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">estimate</span> <span class="op">-</span> <span class="va">estimand</span><span class="op">)</span>,</span>
<span>  mean_CI_width <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">conf.high</span> <span class="op">-</span> <span class="va">conf.low</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">diagnosis_17.2</span> <span class="op">&lt;-</span> <span class="fu">diagnose_design</span><span class="op">(</span><span class="va">declaration_17.3</span>, diagnosands <span class="op">=</span> <span class="va">diagnosands</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div id="tbl-diagnosislist" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-diagnosislist-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;17.4: Diagnosis of a list experiment.
</figcaption><div aria-describedby="tbl-diagnosislist-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table do-not-create-environment cell caption-top table-sm table-striped small" data-quarto-postprocess="true">
<thead><tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">Bias</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Mean CI width</th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: center;">-0.002</td>
<td style="text-align: center;">0.325</td>
</tr></tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>We see in the diagnosis that the list experiment generates unbiased estimates of the prevalence rate, but it is extremely imprecise: the average width of the confidence interval is enormous at 33 percentage points. If the estimate from a list experiment using this design is 25%, this would imply a confidence interval ranging from about 9% to 41% holding the sensitive item, ranging from rare to common and thus providing only a limited amount of information about the prevalence rate.</p>
</div>
<p>The diagnosis above shows that the list experiment (under its assumptions) is unbiased but has high variance. In the presence of sensitivity bias, direct questions are biased, but has much lower variance. The choice between these two technologies therefore amounts to a bias-variance trade-off (see <span class="citation" data-cites="blair2018list">Blair, Coppock, and Moor (<a href="../references.html#ref-blair2018list" role="doc-biblioref">2020</a>)</span> for more on this point). <a href="#def-ch17num3" class="quarto-xref">Declaration&nbsp;<span>17.3</span></a> wraps up both approaches in one design so we can compare them.</p>
<div id="def-ch17num4" class="declaration theorem definition">
<p><span class="theorem-title"><strong>Declaration 17.4</strong></span> Comparing list experiments with direct questions.</p>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">declaration_17.4</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu">declare_model</span><span class="op">(</span></span>
<span>    N <span class="op">=</span> <span class="va">N</span>,</span>
<span>    U <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="va">N</span><span class="op">)</span>,</span>
<span>    control_count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="fl">3</span>, prob <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>    Y_star <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="fl">1</span>, prob <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span>,</span>
<span>    W <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span><span class="va">Y_star</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">~</span> <span class="fl">0L</span>,</span>
<span>                  <span class="va">Y_star</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">N</span>, size <span class="op">=</span> <span class="fl">1</span>, prob <span class="op">=</span> <span class="va">proportion_hiding</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu">potential_outcomes</span><span class="op">(</span><span class="va">Y_list</span> <span class="op">~</span> <span class="va">Y_star</span> <span class="op">*</span> <span class="va">Z</span> <span class="op">+</span> <span class="va">control_count</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">declare_inquiry</span><span class="op">(</span>prevalence_rate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Y_star</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">declare_assignment</span><span class="op">(</span>Z <span class="op">=</span> <span class="fu">complete_ra</span><span class="op">(</span><span class="va">N</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">declare_measurement</span><span class="op">(</span>Y_list <span class="op">=</span> <span class="fu">reveal_outcomes</span><span class="op">(</span><span class="va">Y_list</span> <span class="op">~</span> <span class="va">Z</span><span class="op">)</span>,</span>
<span>                      Y_direct <span class="op">=</span> <span class="va">Y_star</span> <span class="op">-</span> <span class="va">W</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">declare_estimator</span><span class="op">(</span><span class="va">Y_list</span> <span class="op">~</span> <span class="va">Z</span>, inquiry <span class="op">=</span> <span class="st">"prevalence_rate"</span>, label <span class="op">=</span> <span class="st">"list"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">declare_estimator</span><span class="op">(</span><span class="va">Y_direct</span> <span class="op">~</span> <span class="fl">1</span>, inquiry <span class="op">=</span> <span class="st">"prevalence_rate"</span>, label <span class="op">=</span> <span class="st">"direct"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="lem-ch17num3" class="theorem lemma">
<p><span class="theorem-title"><strong>Diagnosis 17.3</strong></span> Comparison of list experiment and direct questions diagnosis</p>
<p>Diagnosing this design, we see that at low levels of sensitivity bias and low sample sizes, the direct question is preferred on RMSE grounds. This is because though the direct question is biased for the prevalence rate in the presence of any sensitivity bias (positive <code>proportion_hiding</code>), it is much more precise than the list experiment. When we have a large sample size, then we begin to prefer the list experiment for its low bias. At high levels of sensitivity bias, we prefer the list experiment on RMSE grounds despite its inefficiency, because bias will be so large.</p>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">diagnosis_17.3</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">declaration_17.4</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">redesign</span><span class="op">(</span>proportion_hiding <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">0</span>, to <span class="op">=</span> <span class="fl">0.3</span>, by <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span>, </span>
<span>           N <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">500</span>, to <span class="op">=</span> <span class="fl">2500</span>, by <span class="op">=</span> <span class="fl">500</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">diagnose_design</span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="fig-ch17num2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-ch17num2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="../figures/figure-17-2.svg" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="Figure&nbsp;17.2: Redesign to illustrate tradeoffs in RMSE between list experiment and direct question"><img src="../figures/figure-17-2.svg" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ch17num2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;17.2: Redesign to illustrate tradeoffs in RMSE between list experiment and direct question
</figcaption></figure>
</div>
<section id="design-examples-1" class="level3" data-number="17.2.1"><h3 data-number="17.2.1" class="anchored" data-anchor-id="design-examples-1">
<span class="header-section-number">17.2.1</span> Design examples</h3>
<ul>
<li><p><span class="citation" data-cites="coppock2017did">Coppock (<a href="../references.html#ref-coppock2017did" role="doc-biblioref">2017</a>)</span> compares direct question and list experimental estimates of support for Donald Trump during the 2016 election, finding no evidence for “shy” Trump supporters who misreport their support for Trump for fear of being perceived as racist or sexist by enumerators.</p></li>
<li><p><span class="citation" data-cites="Cruz2019">Cruz (<a href="../references.html#ref-Cruz2019" role="doc-biblioref">2019</a>)</span> uses a list experiment to estimate the rate of vote buying in the Philippines, though comparison to direct question estimates yields no evidence of sensitivity bias.</p></li>
</ul></section></section><section id="sec-ch17s3" class="level2" data-number="17.3"><h2 data-number="17.3" class="anchored" data-anchor-id="sec-ch17s3">
<span class="header-section-number">17.3</span> Conjoint experiments</h2>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>We declare a forced-choice conjoint experiment design in which respondents choose one of two profiles in three sets of tasks, each with three attributes. The design highlights the complexity of defining the inquiries for conjoints, and their lower power at common sample sizes.</p>
</div>
</div>
<p>Conjoint survey experiments have become hugely popular in political science and beyond for describing multidimensional preferences over profiles <span class="citation" data-cites="Hainmueller2014">(<a href="../references.html#ref-Hainmueller2014" role="doc-biblioref">Hainmueller, Hopkins, and Yamamoto 2014</a>)</span>. The designs have been used to study preferences over political candidates, types of immigrants to admit, neighborhoods to live in, policies to select, and many more questions. Conjoint experiments come in two basic varieties: the single profile design and the forced-choice design. Throughout this chapter, we’ll discuss these studies in the context of hypothetical candidate experiments, in which candidates are described in terms of a number of attributes each of which can take on multiple values, known as levels. In the single profile design, subjects are asked to rate one profile at a time using, for example, a 1 - 7 support scale. In a forced-choice conjoint experiment, subjects are shown two profiles at a time, then asked to make a binary choice between them. Forced choice conjoint experiments are especially useful for studying electoral behavior because they closely mirror the real-world behavior of choosing between two candidates at the ballot box. A similar logic applies to purchasing behavior when consumers have to choose one product over another. Occasionally, forced-choice conjoint experiments are applied even when no real-world analogue for the binary choice exists. For example, we rarely face a binary choice between two immigrants or between two refugees.</p>
<p>We take the unorthodox position that conjoint experiments target descriptive, rather than casual, inquiries. The reason can be most easily seen in the single profile design case. For concreteness, imagine subjects are presented with one profile at a time that describes the age (young, middle-aged, old), gender (woman, man), and employment sector (public, private) of a candidate for office and are asked to rate their support for the candidate on a 1-7 Likert scale. This set of attributes and levels generates <span class="math inline">\(2 * 3 * 2 = 12\)</span> possible profiles. We <em>could</em> ask subjects to rate all 12, but we typically ask them instead to rate only a random subset. If our goal were to estimate the average ratings of each of the 12 profiles, clearly we would be targeting descriptive quantities.</p>
<p>The most common inquiry in conjoint experimentation is the Average Marginal Component Effect or AMCE, which summarizes the average difference in preferences between two levels of one attribute, averaging over all of the levels of the other attributes. The AMCE for gender, for example, considers the average difference in preference for women candidates versus men candidates among young candidates who work in the private sector, among middle-aged candidates who work in the public sector, and so on for all six combinations. The overall AMCE is a weighted average of all six of these average preference differences, where the weights are given by the relative frequency of each type of candidate. Despite its name, we think of the AMCE as a descriptive quantity. We of course agree there is a sense in which the AMCE is a causal quantity, since it is the average effect on preferences of describing a hypothetical candidate as a man or a woman. But we can see this quantity as descriptive if we just imagine asking subjects about both candidates and describing the difference in their preferences. We then could aggregate these descriptive differences across profiles. The only reason we don’t ask about all possible profiles is that there are far too many to get through in a typical survey, so we ask subjects about a random subset.</p>
<p>Just like single-profile conjoints, forced-choice conjoints also target descriptive inquiries, but the inquiry is one step removed from raw preferences over profiles. Instead, we aim to describe the fraction of pairwise contests that a profile would win, averaging over all subjects in the experiment. That is, we aim to describe a profile’s average win rate. We can further describe the differences in the average win rate across profiles, for example, among young candidates who work in the private sector, what is the average difference in win rates for women versus men? Just as in the single profile case, the AMCE is a weighted average of these differences, weighted by the relative frequency of each type of candidate.</p>
<p>Here, again, we <em>could</em> think of the AMCE as a causal effect, i.e., the average effect of describing a profile as a woman versus a man. But we can also imagine asking subjects to consider all <span class="math inline">\(12 * 12 = 144\)</span> possible pairwise contests, then using those binary choices to fully describe subject preferences over contests. A forced-choice conjoint asks subjects to rate just a random subset of those contests, since asking about all of them would be impractical.</p>
<p>One final wrinkle about the AMCE inquiries, in both the single-profile and forced-choice cases: they are “data-strategy-dependent” inquiries in the sense that AMCEs average over the distribution of the other profile attributes, and that distribution is controlled by the researcher.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> The AMCE of gender for profiles that do not include partisanship is different from the AMCE of gender for profiles that include partisanship due to masking (discussed below). Further, and more subtly, the AMCE of gender for profiles that are 75% public sector and 25% private sector is different from the AMCE of gender for profiles that are 50% public sector and 50% private sector, because those relative frequencies are part of the very definition of the inquiry. For contrast, consider a vignette-style hypothetical candidate experiment in which all or most of the other candidate features are fixed, save gender. In that design, we estimate an ATE of gender under only one set of conditions, but in the conjoint design, the AMCE averages over ATEs under many sets of conditions. There is a great benefit in doing so: our inferences are not specific to that one set of conditions. But it also means that what conditions inferences depends crucially on researcher choices about which characteristics are chosen and the randomization scheme.</p>
<p>The data strategy for conjoints, then, requires making these four choices, in addition to the usual measurement, sampling, and assignment concerns:</p>
<ol type="1">
<li>Which attributes to include in the profiles,</li>
<li>Which levels to include in each attribute (and in what proportion),</li>
<li>How many profiles subjects are asked to rate at a time, and</li>
<li>How many sets of profiles subjects are asked to rate in total.</li>
</ol>
<p>The right set of attributes is governed by the “masking/satisficing” trade-off <span class="citation" data-cites="bansak_hainmueller_hopkins_yamamoto_2019">(<a href="../references.html#ref-bansak_hainmueller_hopkins_yamamoto_2019" role="doc-biblioref">Bansak et al. 2021</a>)</span>. If we don’t include an important attribute (like partisanship in a candidate choice experiment), we’re worried that subjects will partially infer partisanship from other attributes (like race or gender). If so, partisanship is “masked,” and the estimates for the effects of race or gender will be biased by these “omitted variables.” But if we include too many attributes in order to avoid masking, we may induce “satisficing” among subjects, whereby they only take in a little bit of information, enough to make a “good enough” choice among the candidates.</p>
<p>The right set of levels to include is a tricky choice. We want to include all of the most important levels, but every additional level harms statistical precision. If an attribute has three levels, it’s like we’re conducting a three-arm trial, so we’ll want to have enough subjects for each arm. The more levels, the lower the precision.</p>
<p>How many profiles to rate at the same time is also tricky. Our point of view is that this choice should be guided by the real-world analogue of the survey task. If we’re learning about binary choices between options in the real world, then the forced-choice, paired design makes good sense. If we’re learning about preferences over many possibilities, the single profile design may be more appropriate. That said, the paired design can yield precision gains over the single profile design in the sense that subjects rate two profiles at the same time, so we effectively generate twice as many observations for perhaps less than twice as much cognitive effort.</p>
<p>Finally, the right number of choice tasks usually depends on the survey budget. We can always add more conjoint tasks and the only cost is the opportunity cost of asking a different question of the survey that may serve another scientific purpose. If we’re worried that respondents will get bored with the task, we can always throw out profile pairs that come later in the survey. <span class="citation" data-cites="bansak_hainmueller_hopkins_yamamoto_2019">Bansak et al. (<a href="../references.html#ref-bansak_hainmueller_hopkins_yamamoto_2019" role="doc-biblioref">2021</a>)</span> suggest that you can ask many tasks without much loss of data quality.</p>
<p>The declaration of conjoint experiments is complex, so we provide a series of helper functions specifically for forced-choice conjoint design in the <code>rdss</code> companion software package.</p>
<p>We begin by establishing the number of subjects and the number of tasks they will accomplish. We then establish the attributes and their levels (this design assumes complete random assignment of all attributes with equal probabilities). Finally, we describe a utility function that governs subject preferences. This function can be simple, as we have it here, or it can be complex, building in differences in preferences by subject type or other details.</p>
<p>In <a href="#def-ch17num5" class="quarto-xref">Declaration&nbsp;<span>17.5</span></a>, we imagine a forced-choice candidate choice conjoint in which the attributes are gender, party, and region. We sample 500 subjects and ask them to complete three tasks each.</p>
<div id="def-ch17num5" class="declaration theorem definition">
<p><span class="theorem-title"><strong>Declaration 17.5</strong></span> Conjoint experiment design.</p>
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">rdss</span><span class="op">)</span> <span class="co"># for helper functions</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">cjoint</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Design features</span></span>
<span><span class="va">N_subjects</span> <span class="op">&lt;-</span> <span class="fl">500</span></span>
<span><span class="va">N_tasks</span> <span class="op">&lt;-</span> <span class="fl">3</span></span>
<span></span>
<span><span class="co"># Attributes and levels</span></span>
<span><span class="va">levels_list</span> <span class="op">=</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>    gender <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Man"</span>, <span class="st">"Woman"</span><span class="op">)</span>,</span>
<span>    party <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Left"</span>, <span class="st">"Right"</span><span class="op">)</span>,</span>
<span>    region <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"North"</span>, <span class="st">"South"</span>, <span class="st">"East"</span>, <span class="st">"West"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Conjectured utility function</span></span>
<span><span class="va">conjoint_utility</span> <span class="op">&lt;-</span></span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="va">data</span> <span class="op">|&gt;</span></span>
<span>      <span class="fu">mutate</span><span class="op">(</span>U <span class="op">=</span> <span class="fl">0.25</span><span class="op">*</span><span class="op">(</span><span class="va">gender</span> <span class="op">==</span> <span class="st">"Woman"</span><span class="op">)</span><span class="op">*</span><span class="op">(</span><span class="va">region</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"North"</span>, <span class="st">"East"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>               <span class="fl">0.5</span><span class="op">*</span><span class="op">(</span><span class="va">party</span> <span class="op">==</span> <span class="st">"Right"</span><span class="op">)</span><span class="op">*</span><span class="op">(</span><span class="va">region</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"North"</span>, <span class="st">"South"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="va">uij</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span></span>
<span><span class="va">declaration_17.5</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">declare_model</span><span class="op">(</span></span>
<span>    subject <span class="op">=</span> <span class="fu">add_level</span><span class="op">(</span>N <span class="op">=</span> <span class="va">N_subjects</span><span class="op">)</span>,</span>
<span>    task <span class="op">=</span> <span class="fu">add_level</span><span class="op">(</span>N <span class="op">=</span> <span class="va">N_tasks</span>, task <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">N_tasks</span><span class="op">)</span>,</span>
<span>    profile <span class="op">=</span> <span class="fu">add_level</span><span class="op">(</span></span>
<span>      N <span class="op">=</span> <span class="fl">2</span>,</span>
<span>      profile <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,</span>
<span>      uij <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="va">N</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">declare_inquiry</span><span class="op">(</span>handler <span class="op">=</span> <span class="va">conjoint_inquiries</span>,</span>
<span>                  levels_list <span class="op">=</span> <span class="va">levels_list</span>,</span>
<span>                  utility_fn <span class="op">=</span> <span class="va">conjoint_utility</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">declare_assignment</span><span class="op">(</span>handler <span class="op">=</span> <span class="va">conjoint_assignment</span>,</span>
<span>                     levels_list <span class="op">=</span> <span class="va">levels_list</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">declare_measurement</span><span class="op">(</span>handler <span class="op">=</span> <span class="va">conjoint_measurement</span>,</span>
<span>                      utility_fn <span class="op">=</span> <span class="va">conjoint_utility</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">declare_estimator</span><span class="op">(</span><span class="va">choice</span> <span class="op">~</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">party</span> <span class="op">+</span> <span class="va">region</span>,</span>
<span>                    respondent.id <span class="op">=</span> <span class="st">"subject"</span>,</span>
<span>                    .method <span class="op">=</span> <span class="va">amce</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="lem-ch17num4" class="theorem lemma">
<p><span class="theorem-title"><strong>Diagnosis 17.4</strong></span> Diagnosis of the conjoint experiment design</p>
<div class="cell">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">diagnosis_17.4</span> <span class="op">&lt;-</span> <span class="fu">diagnose_design</span><span class="op">(</span><span class="va">declaration_17.4</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="fig-ch17num3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-ch17num3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="../figures/figure-17-3.svg" class="lightbox" data-gallery="quarto-lightbox-gallery-3" title="Figure&nbsp;17.3: Sampling Distribution of five AMCE estimators. Bands are constructed by sorting and stacking the confidence intervals generated from many simulations. Statistical significance of estimates indicated by color"><img src="../figures/figure-17-3.svg" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ch17num3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;17.3: Sampling Distribution of five AMCE estimators. Bands are constructed by sorting and stacking the confidence intervals generated from many simulations. Statistical significance of estimates indicated by color
</figcaption></figure>
</div>
<p><a href="#fig-ch17num3" class="quarto-xref">Figure&nbsp;<span>17.3</span></a> shows the sampling distribution of the five AMCE estimators. All five are unbiased, but with only 500 subjects evaluating three pairs of candidates, the power for the smaller AMCEs is less than ideal.</p>
</div>
<section id="design-examples-2" class="level3" data-number="17.3.1"><h3 data-number="17.3.1" class="anchored" data-anchor-id="design-examples-2">
<span class="header-section-number">17.3.1</span> Design examples</h3>
<ul>
<li><p><span class="citation" data-cites="Kao2022">Kao and Revkin (<a href="../references.html#ref-Kao2022" role="doc-biblioref">2022</a>)</span> uses a conjoint experiment in an Iraqi city that was controlled by the Islamic State to understand residents’ preferences over punishments for civilian collaborators, depending on the type of collaboration they engaged in.</p></li>
<li><p><span class="citation" data-cites="aguilar2015">Aguilar, Cunow, and Desposato (<a href="../references.html#ref-aguilar2015" role="doc-biblioref">2015</a>)</span> conduct a candidate choice experiment to measure the difference in how voters evaluate candidates depending on whether they are identified as a man or a woman in Brazil.</p></li>
</ul></section></section><section id="behavioral-games" class="level2" data-number="17.4"><h2 data-number="17.4" class="anchored" data-anchor-id="behavioral-games">
<span class="header-section-number">17.4</span> Behavioral games</h2>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>We declare a trust game and explore the implications of using deception in the game setup. The diagnosis highlights how the choices in the first round of a game, which are not randomized, affect our ability to study the behaviors of the player in the second round without bias.</p>
</div>
</div>
<p>Behavioral games are often used to study difficult-to-measure characteristics of subjects like risk attitudes, altruism, prejudice, and trust. The approach involves using labs or other mechanisms to control contexts. A high level of control brings two distinct benefits. First, it can eliminate noise: we obtain estimates under a particular well-defined set of conditions rather than estimates generated from averaging over a range of possibly unknown conditions. Second, more subtly, it can prevent various forms of confounding. For instance, outside the lab we might observe how people act when they work on tasks with an out-group member. But we only observe the responses among those that <em>do</em> work with out-group members, not among those that do not. By studying behaviors in a controlled setting we can see how people <em>would</em> react when put into particular situations.</p>
<p>The approach holds enormous value. But, as highlighted by <span class="citation" data-cites="green2012statistical">Green and Tusicisny (<a href="../references.html#ref-green2012statistical" role="doc-biblioref">2012</a>)</span>, it also introduces many subtle design choices. Many of these can be revealed through declaration and diagnosis.</p>
<p>We illustrate using the “trust” game, in which we specify three common inquiries and use a standard design in <a href="#def-ch17num6" class="quarto-xref">Declaration&nbsp;<span>17.6</span></a>. The design is successful at generating unbiased estimates of the first inquiry but runs into problems with the other two.</p>
<p>The trust game has been implemented hundreds of times to understand levels and correlates of social trust. Following the meta-analysis given in <span class="citation" data-cites="johnson2011trust">Johnson and Mislin (<a href="../references.html#ref-johnson2011trust" role="doc-biblioref">2011</a>)</span> we consider a game in which one player (Player 1, the “trustor”) can invest some share of $1. Whatever is invested is then doubled. A second player (Player 2, “the trustee”) can then decide what share of the doubled amount to keep for themself and what share to return to the trustor.</p>
<p>As described by <span class="citation" data-cites="johnson2011trust">Johnson and Mislin (<a href="../references.html#ref-johnson2011trust" role="doc-biblioref">2011</a>)</span>, “trust” is commonly measured by the share given and “trustworthiness” is measured by the share returned. With the <em>MIDA</em> framework in mind, we will be more specific and define the inquiry independently of the measurement. We define “trust” as the share that <em>would</em> be invested by a trustor when confronted with a random trustee, whereas “trustworthiness” is the average share that <em>would</em> be returned over a range of possible investments.</p>
<p>To motivate <em>M</em> we assume the following decision-making model. We assume that each person <span class="math inline">\(i\)</span> seeks to maximize a weighted average of logged payoffs:</p>
<p><span class="math display">\[u_i = (1-a_i) \log(\pi_i) + a_i \log(\pi_{-i})\]</span></p>
<p>where <span class="math inline">\(\pi_i, \pi_{-i}\)</span> denotes the monetary payoffs to <span class="math inline">\(i\)</span>, <span class="math inline">\(-i\)</span> and <span class="math inline">\(a_i\)</span> (“altruism”) captures the weight players place on the (logged) payoffs of other players.</p>
<p>Let <span class="math inline">\(x\)</span> denote the amount sent by the trustor from the endowment <span class="math inline">\(1\)</span>.</p>
<p>The trustee then maximizes:</p>
<p><span class="math display">\[u_2 = (1-a_2) \log((1-\lambda)2x) + a_2 \log((1-x) + \lambda 2x)\]</span></p>
<p>where <span class="math inline">\(\lambda\)</span> denotes the share of <span class="math inline">\(2x\)</span> that the trustee returns. Maximizing with respect to <span class="math inline">\(\lambda\)</span> yields:</p>
<p><span class="math display">\[\lambda = a_2 + (1-a_2)\frac{x-1}{2x}\]</span></p>
<p>in the interior. Taking account of boundary constraints,<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> we have best response function:</p>
<p><span class="math display">\[\lambda(x):= \max\left(0, a_2 + (1-a_2)\frac{x-1}{2x}\right)\]</span></p>
<p>Interestingly, the share sent back is increasing in the amount sent because player 2 has greater incentive to compensate player 1 for their investment. If the full amount is sent then the share sent back is simply <span class="math inline">\(a_2\)</span>.</p>
<p>Given this, the trustor chooses <span class="math inline">\(x\)</span> to maximize:</p>
<p><span class="math display">\[u_1 = (1-a_1) \log\left(1 - x + \lambda(x)2x\right) + a_1 \log\left(\left(1-\lambda(x)\right)2x\right)\]</span></p>
<p>In the interior this reduces to:</p>
<p><span class="math display">\[u_1 = (1-a_1) \log\left((1 + x)a_2\right) + a_1 \log\left((1-a_2)(1+x)\right)\]</span></p>
<p>with greatest returns at <span class="math inline">\(x=1\)</span>.</p>
<p>For ranges in which no investment will be returned, utility reduces to:</p>
<p><span class="math display">\[u_1 = (1-a_1) \log\left(1 - x\right) + a_1 \log\left(2x\right)\]</span></p>
<p>which is maximized at: <span class="math inline">\(x = a_1\)</span>.</p>
<p>The global maximum depends on which of these yields higher utility.</p>
<p><a href="#fig-ch17num4" class="quarto-xref">Figure&nbsp;<span>17.4</span></a> shows the returns to the trustor from different investments given their own and the trustee’s other-regarding preferences. We see that when other-regarding preferences are weak for both players, the largest payoffs arise when nothing is given and nothing is returned. When other regarding preferences are strong for player 1, they optimally offer substantial amounts even when nothing is expected in return. When other-regarding preferences are sufficiently strong for player 2, player 1 invests fully in anticipation of a return.</p>
<div id="fig-ch17num4" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-ch17num4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="../figures/figure-17-4.svg" class="lightbox" data-gallery="quarto-lightbox-gallery-4" title="Figure&nbsp;17.4: Illustration of a trust game"><img src="../figures/figure-17-4.svg" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ch17num4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;17.4: Illustration of a trust game
</figcaption></figure>
</div>
<p>The predictions of this model are then used to define the inquiry and predict outcomes in the model declaration. The model part of the design includes information on underlying preferences. For this we make use of a set of functions that characterize stipulated beliefs about behavior.</p>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">invested</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">a_1</span>, <span class="va">a_2</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">u_a</span> <span class="op">=</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">a_1</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">a_1</span><span class="op">)</span> <span class="op">+</span> <span class="va">a_1</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">2</span> <span class="op">*</span> <span class="va">a_1</span><span class="op">)</span>  <span class="co"># give a1</span></span>
<span>  <span class="va">u_b</span> <span class="op">=</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">a_1</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">2</span> <span class="op">*</span> <span class="va">a_2</span><span class="op">)</span> <span class="op">+</span> <span class="va">a_1</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">2</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">a_2</span><span class="op">)</span><span class="op">)</span> <span class="co"># give 1</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">u_a</span> <span class="op">&gt;</span> <span class="va">u_b</span>, <span class="va">a_1</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">average_invested</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">a_1</span><span class="op">)</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">.01</span><span class="op">)</span>,  <span class="va">invested</span>, a_1 <span class="op">=</span> <span class="va">a_1</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">returned</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x1</span>, <span class="va">a_2</span> <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">3</span><span class="op">)</span> </span>
<span>  <span class="op">(</span><span class="op">(</span><span class="fl">2</span> <span class="op">*</span> <span class="va">a_2</span> <span class="op">*</span> <span class="va">x1</span> <span class="op">-</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">a_2</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">x1</span><span class="op">)</span><span class="op">)</span> <span class="op">/</span> <span class="op">(</span><span class="fl">2</span> <span class="op">*</span> <span class="va">x1</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> </span>
<span>  <span class="op">(</span><span class="va">x1</span>  <span class="op">&gt;</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">a_2</span><span class="op">)</span> <span class="op">/</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">a_2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">average_returned</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">a_2</span><span class="op">)</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0.01</span>, <span class="fl">1</span>, <span class="fl">.01</span><span class="op">)</span>, <span class="va">returned</span>, a_2 <span class="op">=</span> <span class="va">a_2</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The inquiries for this design are the expected share offered to different types of trustees, the expected returns, averaged over possible offers, and the expected action by a trustee when the full amount is invested. The data strategy involves assigning players to pairs and orderings. The first player in each pair is assigned to the trustor role and the second to the trustee role. For the answer strategy, we simply measure average behavior across subjects. As a wrinkle, we include the possibility that the experimenter confronts the returners with random offers rather than the ones actually made by their partners. This aspect of the design is controlled by an argument called <code>deceive</code> and turns out to be important for inference.</p>
<div id="def-ch17num6" class="declaration theorem definition">
<p><span class="theorem-title"><strong>Declaration 17.6</strong></span> Trust game design.</p>
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span></span>
<span><span class="va">rho</span>     <span class="op">&lt;-</span> <span class="fl">0.8</span></span>
<span><span class="va">n_pairs</span> <span class="op">&lt;-</span> <span class="fl">200</span></span>
<span><span class="va">deceive</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span></span>
<span></span>
<span><span class="va">declaration_17.6</span> <span class="op">&lt;-</span></span>
<span>  </span>
<span>  <span class="fu">declare_model</span><span class="op">(</span>N <span class="op">=</span> <span class="fl">2</span> <span class="op">*</span> <span class="va">n_pairs</span>,</span>
<span>                a <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="va">N</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  </span>
<span>  <span class="fu">declare_inquiries</span><span class="op">(</span></span>
<span>    trusting <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="va">a</span>, <span class="va">average_invested</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    trustworthy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="va">a</span>, <span class="va">average_returned</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span></span>
<span>  <span class="fu">declare_assignment</span><span class="op">(</span>pair <span class="op">=</span> <span class="fu">complete_ra</span><span class="op">(</span>N <span class="op">=</span> <span class="va">N</span>, num_arms <span class="op">=</span> <span class="va">n_pairs</span><span class="op">)</span>,</span>
<span>                     role <span class="op">=</span> <span class="fl">1</span> <span class="op">+</span> <span class="fu">block_ra</span><span class="op">(</span>blocks <span class="op">=</span> <span class="va">pair</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">declare_step</span><span class="op">(</span></span>
<span>    id_cols <span class="op">=</span> <span class="va">pair</span>,</span>
<span>    names_from <span class="op">=</span> <span class="va">role</span>,</span>
<span>    values_from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">a</span><span class="op">)</span>,</span>
<span>    handler <span class="op">=</span> <span class="va">pivot_wider</span><span class="op">)</span> <span class="op">+</span></span>
<span>  </span>
<span>  <span class="fu">declare_measurement</span><span class="op">(</span>invested <span class="op">=</span> <span class="fu">invested</span><span class="op">(</span><span class="va">a_1</span>, <span class="va">a_2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  </span>
<span>  <span class="fu">declare_estimator</span><span class="op">(</span></span>
<span>    <span class="va">invested</span> <span class="op">~</span> <span class="fl">1</span>,</span>
<span>    .method <span class="op">=</span> <span class="va">lm_robust</span>,</span>
<span>    inquiry <span class="op">=</span> <span class="st">"trusting"</span>,</span>
<span>    label <span class="op">=</span> <span class="st">"trusting"</span><span class="op">)</span> <span class="op">+</span></span>
<span></span>
<span>  <span class="fu">declare_measurement</span><span class="op">(</span>invested <span class="op">=</span> <span class="va">deceive</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="va">N</span><span class="op">)</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">deceive</span><span class="op">)</span><span class="op">*</span><span class="va">invested</span>,</span>
<span>                      returned <span class="op">=</span> <span class="fu">returned</span><span class="op">(</span><span class="va">invested</span>, <span class="va">a_2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  </span>
<span>  <span class="fu">declare_estimator</span><span class="op">(</span></span>
<span>    <span class="va">returned</span> <span class="op">~</span> <span class="fl">1</span>,</span>
<span>    .method <span class="op">=</span> <span class="va">lm_robust</span>,</span>
<span>    inquiry <span class="op">=</span> <span class="st">"trustworthy"</span>,</span>
<span>    label <span class="op">=</span> <span class="st">"trustworthy"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>A few features are worth highlighting. First, the inquiries are defined using a set of hypothetical responses under the model using a specified response function. However the inquiry is robust to the model in the sense that it remains well defined even if you stipulate very different behaviors. Second, the declaration involves a step where we shift from a “long” data frame with a row per subject to a “wide” data frame with a row per game. Third, the design orders steps so that an estimation stage is implemented before a measurement stage; this is a little unusual but it is done in this way to allow the researchers to analyze Player 1 investment decisions before (possibly) replacing them with fabricated decisions.</p>
<p>A sample of data that might be produced by this design is shown in <a href="#tbl-behavioralgames" class="quarto-xref">Table&nbsp;<span>17.5</span></a>.</p>
<div class="cell">
<div id="tbl-behavioralgames" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-behavioralgames-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;17.5: Behavioral games diagnosis
</figcaption><div aria-describedby="tbl-behavioralgames-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: center;">pair</th>
<th style="text-align: center;">ID_2</th>
<th style="text-align: center;">ID_1</th>
<th style="text-align: center;">a_2</th>
<th style="text-align: center;">a_1</th>
<th style="text-align: center;">invested</th>
<th style="text-align: center;">returned</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">T1</td>
<td style="text-align: center;">357</td>
<td style="text-align: center;">026</td>
<td style="text-align: center;">0.69</td>
<td style="text-align: center;">0.51</td>
<td style="text-align: center;">1.00</td>
<td style="text-align: center;">0.69</td>
</tr>
<tr class="even">
<td style="text-align: center;">T2</td>
<td style="text-align: center;">298</td>
<td style="text-align: center;">103</td>
<td style="text-align: center;">0.60</td>
<td style="text-align: center;">0.22</td>
<td style="text-align: center;">1.00</td>
<td style="text-align: center;">0.60</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T3</td>
<td style="text-align: center;">362</td>
<td style="text-align: center;">390</td>
<td style="text-align: center;">0.65</td>
<td style="text-align: center;">0.09</td>
<td style="text-align: center;">1.00</td>
<td style="text-align: center;">0.65</td>
</tr>
<tr class="even">
<td style="text-align: center;">T4</td>
<td style="text-align: center;">249</td>
<td style="text-align: center;">224</td>
<td style="text-align: center;">0.50</td>
<td style="text-align: center;">0.96</td>
<td style="text-align: center;">0.96</td>
<td style="text-align: center;">0.49</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T5</td>
<td style="text-align: center;">152</td>
<td style="text-align: center;">304</td>
<td style="text-align: center;">0.32</td>
<td style="text-align: center;">0.33</td>
<td style="text-align: center;">1.00</td>
<td style="text-align: center;">0.32</td>
</tr>
<tr class="even">
<td style="text-align: center;">T6</td>
<td style="text-align: center;">250</td>
<td style="text-align: center;">244</td>
<td style="text-align: center;">0.94</td>
<td style="text-align: center;">0.21</td>
<td style="text-align: center;">1.00</td>
<td style="text-align: center;">0.94</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>We have a row for each game, we have the (unobserved) <span class="math inline">\(a_i, a_j\)</span> parameters as well as actions by both players in the data.</p>
<p><a href="#lem-ch17num5" class="quarto-xref">Diagnosis&nbsp;<span>17.5</span></a> illustrates the properties of the trust game design.</p>
<div id="lem-ch17num5" class="theorem lemma">
<p><span class="theorem-title"><strong>Diagnosis 17.5</strong></span> Trust game diagnosis</p>
<div class="cell">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">diagnosis_17.5</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">declaration_17.6</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">redesign</span><span class="op">(</span>deceive <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">diagnose_design</span><span class="op">(</span><span class="op">)</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="fig-ch17num5" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-ch17num5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="../figures/figure-17-5.svg" class="lightbox" data-gallery="quarto-lightbox-gallery-5" title="Figure&nbsp;17.5: Diagnosis of bias in the analysis of trust games with and without deception."><img src="../figures/figure-17-5.svg" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ch17num5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;17.5: Diagnosis of bias in the analysis of trust games with and without deception.
</figcaption></figure>
</div>
<p>We see that we do well for the first inquiry whether or not deception is used. The first inquiry–<em>trusting</em>–is after all a simple measurement of choices albeit in a controlled setting. But we do poorly for the second and third inquiries.</p>
<p>Whether we have bias in the measure of <em>trustworthy</em> depends on the use of deception, however, and so presents researchers with a serious design challenge.</p>
<p>There are two distinct reasons for the bias when Player 2 is confronted with the investments made by Player 1. First, the stage 2 distribution of investments differs from the distribution specified in the definition of the inquiry. Although we have assigned roles randomly, the choices confronting Player 2 are not random: they reflect the particular assignments generated by Player 1’s choices. These player-generated assignments are generally higher than those specified in the definition of the inquiry, resulting in higher returns than would arise from random offers. A second source of bias is self-selection in stage 2. Even if the distribution of offers confronting the trustees in the second stage were correct, we could still suffer from a problem that the trustees that are sent larger investments are sent those investments partly <em>because</em> trustors expect them to return a large share.</p>
<p>These problems are, we think, very common in games that involve the analysis of decisions that depend on prior decisions. Switching out the offers solves both of these problems but at the cost of deception.</p>
<p>Many experimental labs have developed quite strong norms against the use of deception. Some alternatives might exist that could be functionally equivalent. One approach would be to limit the information that players have about each other. We assumed in this design that players had enough information on each other to figure out <span class="math inline">\(a_{-i}\)</span>. Say instead that information on players were coarsened — for instance, so that players know only each other’s gender and ethnicity. In this case we might have a small set of “types” for Player 1 and Player 2. Conditional on the type pair, the variation in offers is as-if random with respect to a Player 2’s characteristics and one could assess the average response of each Player 2 type to each offer received from a Player 1 type. This approach would address the selection problem. The problem of nonrandom offers could be sidestepped by redefining the inquiry to be responses <em>conditional</em> on particular offers (such as the return of a 100% investment).</p>
<p>Another approach is to in fact do a mixture of reporting and randomization and <em>advise</em> Player 2 players that with some probability (say 50%) they will be confronted with a random investment and with some probability they will see the actual investment made by Player 1.</p>
</div>
<section id="design-examples-3" class="level3" data-number="17.4.1"><h3 data-number="17.4.1" class="anchored" data-anchor-id="design-examples-3">
<span class="header-section-number">17.4.1</span> Design examples</h3>
<ul>
<li><p><span class="citation" data-cites="avdeenko_gilligan_2015">Avdeenko and Gilligan (<a href="../references.html#ref-avdeenko_gilligan_2015" role="doc-biblioref">2015</a>)</span> use a trust game to measure outcomes in a randomized controlled trial of the effects of local public infrastructure projects in Sudan.</p></li>
<li><p><span class="citation" data-cites="Iyengar2015">Iyengar and Westwood (<a href="../references.html#ref-Iyengar2015" role="doc-biblioref">2015</a>)</span> use both dictator and trust games to measure partisan antipathy in the United States.</p></li>
</ul>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-aguilar2015" class="csl-entry" role="listitem">
Aguilar, Rosario, Saul Cunow, and Scott Desposato. 2015. <span>“Choice Sets, Gender, and Candidate Choice in Brazil.”</span> <em>Electoral Studies</em> 39: 230–42. https://doi.org/<a href="https://doi.org/10.1016/j.electstud.2015.03.011">https://doi.org/10.1016/j.electstud.2015.03.011</a>.
</div>
<div id="ref-avdeenko_gilligan_2015" class="csl-entry" role="listitem">
Avdeenko, Alexandra, and Michael J. Gilligan. 2015. <span>“International Interventions to Build Social Capital: Evidence from a Field Experiment in Sudan.”</span> <em>American Political Science Review</em> 109 (3): 427–49.
</div>
<div id="ref-bansak_hainmueller_hopkins_yamamoto_2019" class="csl-entry" role="listitem">
Bansak, Kirk, Jens Hainmueller, Daniel J. Hopkins, and Teppei Yamamoto. 2021. <span>“Beyond the Breaking Point? Survey Satisficing in Conjoint Experiments.”</span> <em>Political Science Research and Methods</em> 9 (1): 53–71.
</div>
<div id="ref-birkelund2022gender" class="csl-entry" role="listitem">
Birkelund, Gunn Elisabeth, Bram Lancee, Edvard Nergård Larsen, Javier G Polavieja, Jonas Radl, and Ruta Yemane. 2022. <span>“Gender Discrimination in Hiring: Evidence from a Cross-National Harmonized Field Experiment.”</span> <em>European Sociological Review</em> 38 (3): 337–54.
</div>
<div id="ref-blair2018list" class="csl-entry" role="listitem">
Blair, Graeme, Alexander Coppock, and Margaret Moor. 2020. <span>“When to Worry about Sensitivity Bias: A Social Reference Theory and Evidence from 30 Years of List Experiments.”</span> <em>American Political Science Review</em> 114 (4): 1297–1315.
</div>
<div id="ref-butler_crabtree_2017" class="csl-entry" role="listitem">
Butler, Daniel M., and Charles Crabtree. 2017. <span>“Moving Beyond Measurement: Adapting Audit Studies to Test Bias-Reducing Interventions.”</span> <em>Journal of Experimental Political Science</em> 4 (1): 57–67.
</div>
<div id="ref-coppock2017did" class="csl-entry" role="listitem">
Coppock, Alexander. 2017. <span>“Did Shy Trump Supporters Bias the 2016 Polls? Evidence from a Nationally-Representative List Experiment.”</span> <em>Statistics, Politics and Policy</em> 8 (1): 29–40.
</div>
<div id="ref-coppock_2019b" class="csl-entry" role="listitem">
———. 2019. <span>“<span class="nocase">Avoiding Post-Treatment Bias in Audit Experiments</span>.”</span> <em>Journal of Experimental Political Science</em> 6 (1): 1–4.
</div>
<div id="ref-creightonjamal2015" class="csl-entry" role="listitem">
Creighton, Mathew J., and Amaney Jamal. 2015. <span>“Does Islam Play a Role in Anti-Immigrant Sentiment? An Experimental Approach.”</span> <em>Social Science Research</em> 53: 89–103.
</div>
<div id="ref-Cruz2019" class="csl-entry" role="listitem">
Cruz, Cesi. 2019. <span>“Social Networks and the Targeting of Vote Buying.”</span> <em>Comparative Political Studies</em> 52 (3): 382–411.
</div>
<div id="ref-fang2019can" class="csl-entry" role="listitem">
Fang, Albert H, Andrew M Guess, and Macartan Humphreys. 2019. <span>“Can the Government Deter Discrimination? Evidence from a Randomized Intervention in New York City.”</span> <em>The Journal of Politics</em> 81 (1): 127–41.
</div>
<div id="ref-green2012statistical" class="csl-entry" role="listitem">
Green, Donald P., and Andrej Tusicisny. 2012. <span>“Statistical Analysis of Results from Laboratory Studies in Experimental Economics: A Critique of Current Practice.”</span> <em>Available at SSRN 2181654</em>.
</div>
<div id="ref-Hainmueller2014" class="csl-entry" role="listitem">
Hainmueller, Jens, Daniel J. Hopkins, and Teppei Yamamoto. 2014. <span>“<span class="nocase">Causal Inference in Conjoint Analysis: Understanding Multidimensional Choices via Stated Preference Experiments</span>.”</span> <em>Political Analysis</em> 22 (1): 1–30.
</div>
<div id="ref-Imai2011" class="csl-entry" role="listitem">
Imai, Kosuke. 2011. <span>“<span class="nocase">Multivariate Regression Analysis for the Item Count Technique</span>.”</span> <em>Journal of the American Statistical Association</em> 106 (494): 407–16.
</div>
<div id="ref-Iyengar2015" class="csl-entry" role="listitem">
Iyengar, Shanto, and Sean J. Westwood. 2015. <span>“Fear and Loathing Across Party Lines: New Evidence on Group Polarization.”</span> <em>American Journal of Political Science</em> 59 (3): 690–707.
</div>
<div id="ref-johnson2011trust" class="csl-entry" role="listitem">
Johnson, Noel D, and Alexandra A Mislin. 2011. <span>“Trust Games: A Meta-Analysis.”</span> <em>Journal of Economic Psychology</em> 32 (5): 865–89.
</div>
<div id="ref-Kao2022" class="csl-entry" role="listitem">
Kao, Kristen, and Mara R. Revkin. 2022. <span>“Retribution or Reconciliation? Post-Conflict Attitudes Toward Enemy Collaborators.”</span> <em>American Journal of Political Science</em>.
</div>
<div id="ref-miller1984new" class="csl-entry" role="listitem">
Miller, Judith Droitcour. 1984. <span>“A New Survey Technique for Studying Deviant Behavior.”</span> PhD thesis, George Washington University.
</div>
<div id="ref-WHITE_NATHAN_FALLER_2015" class="csl-entry" role="listitem">
White, Ariel R., Noah L. Nathan, and Julie K. Faller. 2015. <span>“<span class="nocase">What Do I Need to Vote? Bureaucratic Discretion and Discrimination by Local Election Officials</span>.”</span> <em>American Political Science Review</em> 109 (1): 129–42.
</div>
</div>
</section></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><hr>
<ol>
<li id="fn1"><p>The AMCE need not be data-dependent. We could write down one distribution of profiles in the model to establish the AMCE inquiry, then randomly sample the profiles shown to respondents for a different distribution. This would be a headache, because the estimator would need to be reweighted to successfully target the AMCE inquiry. Better to bring the data strategy in line with the model in the first place.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p><span class="math inline">\(a_2 + (1-a_2)\frac{x-1}{2x}\geq 0\)</span> requires <span class="math inline">\(x  \geq \frac{1-a_2}{1+a_2}\)</span><a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="../library/observational-causal.html" class="pagination-link" aria-label="Observational : causal">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Observational : causal</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../library/experimental-causal.html" class="pagination-link" aria-label="Experimental : causal">
        <span class="nav-page-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Experimental : causal</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>


</body></html>